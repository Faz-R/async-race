{"version":3,"file":"main.js","mappings":"uBAAIA,EACAC,EACAC,EACAC,E,qCCDAC,EAA6B,IAAIC,IAAI,YAEH,IAAyCD,E,SCF/EE,EAAOC,QAAU,SAAUC,EAAKC,GAM9B,OALKA,IAEHA,EAAU,CAAC,GAGRD,GAKLA,EAAME,OAAOF,EAAIG,WAAaH,EAAII,QAAUJ,GAExCC,EAAQI,OAEVL,GAAOC,EAAQI,MAGbJ,EAAQK,iBAAmB,oBAAoBC,KAAKP,GAC/C,IAAKQ,OAAOR,EAAK,KAGnBA,GAfEA,CAgBX,C,6HCtBA,MAAMS,EACFC,uBACI,IAAIC,EAC2C,QAA7CA,EAAKC,SAASC,eAAe,kBAA+B,IAAPF,GAAyBA,EAAGG,SACnF,MAAMC,EAAc,IAAI,IAClBC,EAAcD,EAAYE,SAChCD,EAAYE,GAAK,UACjBF,EAAYG,MAAMC,QAAU,OAC5BL,EAAYM,OAAOL,GACnBP,EAAIa,UAAUC,OAAOP,EACzB,CACAN,mBAAmBc,GACf,MAAMC,EAAa,IAAI,IACjBC,EAAaD,EAAWR,SAC9BS,EAAWR,GAAK,SAChBO,EAAWJ,OAAOK,GAClBjB,EAAIa,UAAUC,OAAOG,GACrB,MAAMX,EAAc,IAAI,IAClBC,EAAcD,EAAYE,SAChCD,EAAYE,GAAK,UACjBH,EAAYM,OAAOL,GACnBP,EAAIa,UAAUC,OAAOP,GACjBQ,EACe,WAAXA,EACAZ,SAASC,eAAe,WAAWM,MAAMC,QAAU,OAGnDR,SAASC,eAAe,UAAUM,MAAMC,QAAU,OAItDJ,EAAYG,MAAMC,QAAU,MAEpC,CACAV,kBAAkBc,GACC,WAAXA,GACAZ,SAASC,eAAe,WAAWM,MAAMC,QAAU,OACnDR,SAASC,eAAe,UAAUM,MAAMC,QAAU,UAGlDR,SAASC,eAAe,WAAWM,MAAMC,QAAU,QACnDR,SAASC,eAAe,UAAUM,MAAMC,QAAU,OAE1D,CACAO,oBACIC,OAAOC,iBAAiB,cAAc,KAClC,MAAMxB,EAAOuB,OAAOE,SAASzB,KAAK0B,MAAM,GACxCtB,EAAIuB,WAAW3B,EAAK,GAE5B,CACA4B,cACIC,KAAKC,OAAS,IAAI,IAAO,SAAU,SACvC,CACAC,MACI,MAAM/B,EAAOuB,OAAOE,SAASzB,KAAK0B,MAAM,GACxCtB,EAAIa,UAAUC,OAAOW,KAAKC,OAAOlB,UACjCR,EAAI4B,YAAYhC,GAAc,UAC9B6B,KAAKP,mBACT,EAEJlB,EAAIa,UAAYV,SAAS0B,KACzB,U,oLC1DA,IAAIC,GAAiB,EACjBC,GAAW,EACXC,GAAW,EACf,MAAMC,EAAWC,KAAKC,KAAKC,OAAO,eAAmB,GACjD,aAAiBH,IACjBF,GAAW,GAEf,MAAMM,UAAmB,IACrB7B,SACI,MAAM8B,EAAQD,EAAWE,WAAWC,YA2BpC,OA1BAf,KAAKZ,UAAU4B,UACX,8WAO2BX,EAAiB,WAAa,gEACXA,EAAiB,WAAa,8EAChBA,EAAiB,WAAa,mDACzDA,EAAiB,WAAa,sTAOjEQ,MAAU,6FAEqBN,EAAW,WAAa,gGAC9C,8DACsBD,EAAW,WAAa,gGAE3D,2BAESN,KAAKZ,SAChB,CACAD,OAAOC,GACH,IAAIJ,EACJI,EAAUO,iBAAiB,SAASsB,MAAOC,IACvC,MAAMC,EAASD,EAAEE,OAAOC,WAClBC,EAAUJ,EAAEE,OAClB,GAAID,EAAQ,CACR,GAAIA,EAAOI,UAAUC,SAAS,iBAAkB,CAC5C,MAAMxC,EAAK2B,OAAOQ,EAAOnC,GAAGyC,QAAQ,cAAe,WAC7C,QAAUzC,SACV,QAAaA,SACb,eACA,yBACN,oBACAgB,KAAKjB,QACT,CAcA,GAbIoC,EAAOI,UAAUC,SAAS,mBAC1BxC,EAAK2B,OAAOQ,EAAOnC,GAAGyC,QAAQ,cAAe,KAC7CpB,GAAiB,EACjBL,KAAKjB,UAELoC,EAAOI,UAAUC,SAAS,kBAC1BxC,EAAK2B,OAAOQ,EAAOnC,GAAGyC,QAAQ,oBAAqB,WAC7C,iBAAgBzC,IAEtBmC,EAAOI,UAAUC,SAAS,iBAC1BxC,EAAK2B,OAAOQ,EAAOnC,GAAGyC,QAAQ,mBAAoB,WAC5C,gBAAezC,IAErBmC,EAAOI,UAAUC,SAAS,aAAc,CACxC,MAAMhB,EAAWC,KAAKC,KAAKC,OAAO,eAAmB,GACjD,aAAiBH,IACjBD,GAAW,EACX,aAAiB,aAAiB,EAC9B,eAAmBC,IACnBF,GAAW,SAET,SACNN,KAAKjB,SAEb,CACIoC,EAAOI,UAAUC,SAAS,cACtB,aAAiB,IACjBlB,GAAW,EACX,aAAiB,aAAiB,EACX,IAAnB,eACAC,GAAW,SAET,SACNP,KAAKjB,SAGjB,CACA,GAAIuC,EAAS,CACT,GAAIA,EAAQC,UAAUC,SAAS,mBAAoB,CAC/C,MAAME,GAAO,UACbpB,GAAW,EACXoB,EAAKC,SAAQV,MAAOC,UACV,QAAUA,SACV,SACNlB,KAAKjB,QAAQ,GAErB,CACA,GAAIuC,EAAQC,UAAUC,SAAS,eAAgB,CAC3CF,EAAQM,UAAW,EACnB,MAAMC,QAAe,QAAK,wBACpB,QAAWA,SACX,yBACN,oBACA,MAAMC,EAAUpD,SAASC,eAAe,WACpCmD,IACAA,EAAQd,UAAY,GAAGa,EAAOE,mBAAmBF,EAAOG,SACxDF,EAAQG,UAAUC,OAAO,WAAW,IAExCxD,SAASC,eAAe,SAASiD,UAAW,CAChD,CACA,GAAIN,EAAQC,UAAUC,SAAS,gBAAiB,CAC5CF,EAAQM,UAAW,EACnB,cAAe,EAAG5C,QAAS,gBAAeA,KAC1C,MAAM8C,EAAUpD,SAASC,eAAe,WACxCmD,SAAkDA,EAAQG,UAAUC,OAAO,WAAW,GACtFxD,SAASC,eAAe,QAAQiD,UAAW,CAC/C,CACJ,KAEJxC,EAAUO,iBAAiB,UAAUsB,MAAOC,IACxCA,EAAEiB,iBACF,MAAMC,EAAOlB,aAA6B,EAASA,EAAEE,OAC/CiB,EAAW,IAAIC,SAASF,GAC9B,IAAIL,EAAOM,EAASE,IAAI,aACpBC,EAAQH,EAASE,IAAI,cACpBR,IACDA,EAAO,IAENS,IACDA,EAAQ,WAEZ,MAAMC,EAAM,CAAEV,KAAMA,EAAMS,MAAOA,GAC7BtB,EAAEE,OAAOG,UAAUC,SAAS,uBACtB,QAAUiB,GAEhBvB,EAAEE,OAAOG,UAAUC,SAAS,wBACtB,QAAUxC,EAAIyD,GACpBpC,GAAiB,SAEf,SACNL,KAAKjB,QAAQ,GAErB,EAEJ6B,EAAWE,WAAa,CACpBC,YAAa,UAEjB,U,sDC5Je,MAAM2B,EACjB3C,YAAY4C,EAASC,GACjB5C,KAAKZ,UAAYV,SAASmE,cAAcF,GACxC3C,KAAKZ,UAAUmC,UAAYqB,CAC/B,CACA7D,SACI,OAAOiB,KAAKZ,SAChB,ECNJ,MAAM0D,EAAU,CACZ,CACI9D,GAAI,SACJ+D,KAAM,UAEV,CACI/D,GAAI,UACJ+D,KAAM,YAwBd,EArBA,cAAqBL,EACjB3C,YAAY4C,EAASC,GACjBI,MAAML,EAASC,EACnB,CACAK,oBACI,MAAMC,EAAcxE,SAASmE,cAAc,OAC3CK,EAAY3B,UAAY,iBACxBuB,EAAQnB,SAASwB,IACb,MAAMC,EAAa1E,SAASmE,cAAc,KAC1CO,EAAWC,KAAO,IAAIF,EAAOnE,KAC7BoE,EAAWE,UAAYH,EAAOJ,KAC9BK,EAAW7B,UAAY,uBACvB2B,EAAY7D,OAAO+D,EAAW,IAElCpD,KAAKZ,UAAUC,OAAO6D,EAC1B,CACAnE,SAEI,OADAiB,KAAKiD,oBACEjD,KAAKZ,SAChB,E,6HC3BJ,IAAIkB,GAAW,EACXC,GAAW,EACf,MAAMC,EAAWC,KAAKC,KAAKC,OAAO,kBAAsB,IACpD,iBAAqBH,IACrBF,GAAW,GAEf,MAAMiD,UAAoB,IACtBxE,SACI,MAAM8B,EAAQ0C,EAAYzC,WAAW0C,aAiCrC,OAhCAxD,KAAKZ,UAAU4B,UAAY,aACzBH,MAAU,gGAEqBN,EAAW,WAAa,0EAC9C,iEACsBD,EAAW,WAAa,yXASpC,SAAjB,WAA8C,SAApB,cAA6B,IAAM,IAAM,yHAIlD,SAAjB,WAA8C,SAApB,cAA6B,IAAM,IAAM,wDAIvE,iBAAkB,CAACuB,EAAQ4B,IAAU,yDACbA,EAAQ,EAA+B,IAAzB,gBAAoB,kDAC1B,mBAAkB5B,EAAOY,IAAID,8CACrCX,EAAOY,IAAIV,4CACXF,EAAO6B,4CACP7B,EAAOG,2BACzB2B,KAAK,0CAIJ3D,KAAKZ,SAChB,CACAD,OAAOC,GACHA,EAAUO,iBAAiB,SAASsB,MAAOC,IACvC,MAAMC,EAASD,EAAEE,OAAOC,WAClBC,EAAUJ,EAAEE,OACdD,EAAOI,UAAUC,SAAS,cACtB,gBAAoBhB,IACpBD,GAAW,EACX,gBAAoB,gBAAoB,EACpC,kBAAsBC,IACtBF,GAAW,SAET,yBACNN,KAAKjB,UAGToC,EAAOI,UAAUC,SAAS,cACtB,gBAAoB,IACpBlB,GAAW,EACX,gBAAoB,gBAAoB,EACd,IAAtB,kBACAC,GAAW,SAET,yBACNP,KAAKjB,UAGM,iBAAfuC,EAAQtC,KACR,WAAe,OACM,SAApB,cAA8B,cAAkB,MAAQ,cAAkB,aACrE,yBACNgB,KAAKjB,UAEU,iBAAfuC,EAAQtC,KACR,WAAe,OACM,SAApB,cAA8B,cAAkB,MAAQ,cAAkB,aACrE,yBACNgB,KAAKjB,SACT,GAER,EAEJwE,EAAYzC,WAAa,CACrB0C,aAAc,WAElB,U,sDC1FA,MAAMI,EACF7D,cACIC,KAAKZ,UAAYV,SAASmE,cAAc,MAC5C,CACA9D,SACI,OAAOiB,KAAKZ,SAChB,CACAD,OAAOC,GAEP,EAEJwE,EAAK9C,WAAa,CAAC,EACnB,S,qECTY,K,6BAAI,IACZZ,M,0JCDJ,MAAM2D,EAAkBrB,GAAU,0FACqDA,urBAEjFsB,EAAY,EAAG9E,KAAI+C,OAAMS,QAAOuB,qBAAsB,sIAGgB/E,0GAClBA,+GACKA,MAAO+E,EAAkB,WAAa,4GACxC/E,MAAQ+E,EAA+B,GAAb,iGAC1DhC,0EAGE/C,cACvB6E,EAAerB,kDAEUxD,mCAapBgF,EAAoB/C,UAC7B,MAAM,MAAEgD,EAAK,MAAEC,SAAgB,QAAQ,cACvC,SAAaD,EACb,cAAkBC,CAAK,EA0C3B,GACIC,aAvDiB,IACV,qCAEL,cAAgB1B,GAAQ,aACpBqB,EAAUrB,kBACbkB,KAAK,iBAmDRS,aA1CiBnD,MAAOjC,IACxB,MAAMqF,EAAc3F,SAASC,eAAe,oBAAoBK,KAC5DqF,aAAuBC,oBACvBD,EAAYzC,UAAW,GAE3B,MAAM,SAAE2C,EAAQ,SAAEC,SAAmB,QAAYxF,GAC3CgD,EAAOvB,KAAKgE,MAAMD,EAAWD,GAC/BF,aAAuBC,oBACvBD,EAAYzC,UAAW,GAE3BlD,SAASC,eAAe,mBAAmBK,KAAM4C,UAAW,EAC5D,MAAMa,EAAM/D,SAASC,eAAe,OAAOK,KACrC0F,EAAOhG,SAASC,eAAe,QAAQK,KACvC2F,EAAelE,KAAKmE,OAAM,QAA2BnC,EAAKiC,IAAS,GACzE,cAAgB1F,IAAM,QAAUyD,EAAKkC,EAAc3C,GACnD,MAAM,QAAE6C,SAAkB,QAAM7F,GAIhC,OAHK6F,GACDnF,OAAOoF,qBAAqB,cAAgB9F,GAAIA,IAE7C,CAAE6F,UAAS7F,KAAIgD,OAAM,EAwB5B+C,YAtBgB9D,MAAOjC,IACvB,MAAMgG,EAAatG,SAASC,eAAe,mBAAmBK,KAC1DgG,aAAsBV,oBACtBU,EAAWpD,UAAW,SAEpB,QAAW5C,GACjBN,SAASC,eAAe,oBAAoBK,KAAM4C,UAAW,EAC7D,MAAMa,EAAM/D,SAASC,eAAe,OAAOK,KACvCyD,IACAA,EAAIxD,MAAMgG,UAAY,iBAEtB,cAAgBjG,IAChBU,OAAOoF,qBAAqB,cAAgB9F,GAAIA,GAAG,EAWvD6E,iBACAqB,mBAVuBjE,UACvB,MAAM,MAAEgD,EAAK,MAAEC,SAAgB,QAAW,CAAEiB,KAAM,gBAAmBC,KAAM,WAAcC,MAAO,gBAChG,YAAgBpB,EAChB,iBAAqBC,CAAK,G,wIC3E9B,MAAMoB,EAAO,wBACPC,EAAS,GAAGD,WACZE,EAAS,GAAGF,WACZG,EAAU,GAAGH,YACZrE,eAAeyE,EAAQP,EAAMQ,EAAQ,GACxC,MAAMC,QAAiBC,MAAM,GAAGN,WAAgBJ,YAAeQ,KAC/D,MAAO,CACH1B,YAAa2B,EAASE,OACtB5B,MAAO0B,EAASG,QAAQxD,IAAI,iBAEpC,CACO,MAAMyD,EAAS/E,MAAOjC,UAAc6G,MAAM,GAAGN,KAAUvG,MAAO8G,OACxDG,EAAYhF,MAAOb,UAAgByF,MAAMN,EAAQ,CAC1DW,OAAQ,OACR9F,KAAM+F,KAAKC,UAAUhG,GACrB2F,QAAS,CACL,eAAgB,uBAEpBD,OACSO,EAAYpF,MAAOjC,UAAc6G,MAAM,GAAGN,KAAUvG,IAAM,CAAEkH,OAAQ,YAAaJ,OACjFQ,EAAYrF,MAAOjC,EAAIoB,WAAgByF,MAAM,GAAGN,KAAUvG,IAAM,CACzEkH,OAAQ,MACR9F,KAAM+F,KAAKC,UAAUhG,GACrB2F,QAAS,CACL,eAAgB,uBAEpBD,OACSS,EAActF,MAAOjC,UAAc6G,MAAM,GAAGL,QAAaxG,mBAAqB,CAAEkH,OAAQ,WAAYJ,OACpGU,EAAavF,MAAOjC,UAAc6G,MAAM,GAAGL,QAAaxG,mBAAqB,CAAEkH,OAAQ,WAAYJ,OACnGW,EAAQxF,MAAOjC,IACxB,MAAM0H,QAAYb,MAAM,GAAGL,QAAaxG,iBAAmB,CAAEkH,OAAQ,UAAWS,QAChF,OAAsB,MAAfD,EAAIE,OAAiB,CAAE/B,SAAS,GAAUgC,OAAOC,OAAO,CAAC,QAAUJ,EAAIZ,OAAQ,EAO7EiB,EAAa9F,OAASkE,OAAMQ,QAAQ,GAAIP,OAAMC,YACvD,MAAMO,QAAiBC,MAAM,GAAGJ,WAAiBN,YAAeQ,IAN/C,EAACP,EAAMC,IACpBD,GAAQC,EACD,UAAUD,YAAeC,IAC7B,GAGiE2B,CAAa5B,EAAMC,MACrFpB,QAAc2B,EAASE,OAC7B,MAAO,CACH7B,YAAagD,QAAQC,IAAIjD,EAAMkD,KAAIlG,MAAOY,GAAYgF,OAAOC,OAAOD,OAAOC,OAAO,CAAC,EAAGjF,GAAS,CAAEY,UAAWuD,EAAOnE,EAAO7C,SAC1HkF,MAAO0B,EAASG,QAAQxD,IAAI,iBAC/B,EAIQ6E,EAAenG,MAAOjC,UAAc6G,MAAM,GAAGJ,KAAWzG,IAAM,CAAEkH,OAAQ,YAAaJ,OAerFuB,EAAapG,OAASjC,KAAIgD,WACnC,MAAMsF,OAjBqBrG,OAAOjC,UAAc6G,MAAM,GAAGJ,KAAWzG,MAAO4H,OAiBhDW,CAAgBvI,GAC3C,GAAqB,MAAjBsI,OAhBoBrG,OAAOb,UAAgByF,MAAM,GAAGJ,IAAW,CACnES,OAAQ,OACR9F,KAAM+F,KAAKC,UAAUhG,GACrB2F,QAAS,CACL,eAAgB,uBAEpBD,OAWU0B,CAAa,CACfxI,KACA0E,KAAM,EACN1B,aAGH,CACD,MAAMH,OA3BWZ,OAAOjC,UAAc6G,MAAM,GAAGJ,KAAWzG,MAAO8G,OA2B5C2B,CAAUzI,QAjBXiC,OAAOjC,EAAIoB,WAAgByF,MAAM,GAAGJ,KAAWzG,IAAM,CAC7EkH,OAAQ,MACR9F,KAAM+F,KAAKC,UAAUhG,GACrB2F,QAAS,CACL,eAAgB,uBAEpBD,OAYU4B,CAAa1I,EAAI,CACnBA,KACA0E,KAAM7B,EAAO6B,KAAO,EACpB1B,KAAMA,EAAOH,EAAOG,KAAOA,EAAOH,EAAOG,MAEjD,E,sEC9EJ,MAAQiC,MAAOvC,EAAMwC,MAAOyD,SAAoB,QAAQ,IAChD1D,MAAOwB,EAASvB,MAAO0D,SAAuB,QAAW,CAAEzC,KAAM,EAAGQ,MAAO,GAAIP,KAAM,KAAMC,MAAO,OAC1G,GACIwC,SAAU,EACVnG,OACAiG,YACAG,UAAW,CAAC,EACZjJ,YAAa,EACb4G,UACAmC,eACAG,OAAQ,KACRC,UAAW,OACXC,KAAM,U,kICZV,SAASC,EAAoB5G,GACzB,MAAM,IAAE6G,EAAG,KAAEC,EAAI,MAAEC,EAAK,OAAEC,GAAWhH,EAAQiH,wBAC7C,MAAO,CACHC,EAAGJ,EAAOC,EAAQ,EAClBI,EAAGN,EAAMG,EAAS,EAE1B,CACO,SAASI,EAA2BC,EAAGC,GAC1C,MAAMC,EAAYX,EAAoBS,GAChCG,EAAYZ,EAAoBU,GACtC,OAAOnI,KAAKsI,MAAMF,EAAUL,EAAIM,EAAUN,EAAGK,EAAUJ,EAAIK,EAAUL,EACzE,CACO,SAASX,EAAUrF,EAAK+B,EAAUwE,GACrC,IAAIC,EAAQ,EACZ,MAAMC,EAAQ,CAAC,EAaf,OADAA,EAAMlK,GAAKU,OAAOyJ,uBAXlB,SAASC,EAAKC,GACLJ,IACDA,EAAQI,GAEZ,MAAMrH,EAAOqH,EAAYJ,EACnBK,EAAS7I,KAAKgE,MAAMzC,GAAQwC,EAAWwE,IAC7CvG,EAAIxD,MAAMgG,UAAY,cAAcxE,KAAK8I,IAAID,EAAQ9E,QACjD8E,EAAS9E,IACT0E,EAAMlK,GAAKU,OAAOyJ,sBAAsBC,GAEhD,IAEOF,CACX,C,4BACA,MAAMM,EAAS,CAAC,OAAQ,MAAO,OAAQ,QAAS,UAAW,MAAO,OAAQ,QAAS,SAAU,UACvFC,EAAQ,CAAC,KAAM,YAAa,QAAS,KAAM,UAAW,SAAU,QAAS,UAAW,OAAQ,OAC5FC,EAAgB,IAGX,GAFOF,EAAO/I,KAAKmE,MAAMnE,KAAKkJ,SAAWH,EAAOI,YAC1CH,EAAMhJ,KAAKmE,MAAMnE,KAAKkJ,SAAWH,EAAOI,WAGnDC,EAAiB,KAEnB,IAAIrH,EAAQ,IACZ,IAAK,IAAIsH,EAAI,EAAGA,EAAI,EAAGA,IACnBtH,GAHY,mBAGK/B,KAAKmE,MAAsB,GAAhBnE,KAAKkJ,WAErC,OAAOnH,CAAK,EAEHuH,EAAqB,CAAC7F,EAAQ,MAAQ,IAAI8F,MAAM9F,GAAO+F,KAAK,GAAG9C,KAAI,KAAM,CAAGpF,KAAM2H,IAAiBlH,MAAOqH,QAC1GK,EAAUjJ,MAAOkJ,EAAUC,KACpC,MAAM,QAAEvF,EAAO,GAAE7F,EAAE,KAAEgD,SAAeiF,QAAQoD,KAAKF,GACjD,IAAKtF,EAAS,CACV,MAAMyF,EAAcF,EAAIG,WAAUT,GAAKA,IAAM9K,IACvCwL,EAAe,IAAIL,EAAStK,MAAM,EAAGyK,MAAiBH,EAAStK,MAAMyK,EAAc,EAAGH,EAASP,SAC/Fa,EAAU,IAAIL,EAAIvK,MAAM,EAAGyK,MAAiBF,EAAIvK,MAAMyK,EAAc,EAAGF,EAAIR,SACjF,OAAOM,EAAQM,EAAcC,EACjC,CACA,OAAO5D,OAAOC,OAAOD,OAAOC,OAAO,CAAC,EAAG,eAAiBrE,GAAQA,EAAIzD,KAAOA,KAAM,CAAEgD,OAAQA,EAAO,KAAM0I,QAAQ,IAAK,EAE5GL,EAAOpJ,MAAO0J,IACvB,MAAMR,EAAW,cAAe,EAAGnL,QAAS2L,EAAO3L,KAEnD,aADqBkL,EAAQC,EAAU,cAAgB1H,GAAQA,EAAIzD,KACtD,E,0EC1Db4L,EAA2B,CAAC,EAGhC,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBE,IAAjBD,EACH,OAAOA,EAAalN,QAGrB,IAAID,EAASgN,EAAyBE,GAAY,CAGjDjN,QAAS,CAAC,GAOX,OAHAoN,EAAoBH,GAAUlN,EAAQA,EAAOC,QAASgN,GAG/CjN,EAAOC,OACf,CAGAgN,EAAoBK,EAAID,EdzBpB3N,EAAkC,mBAAX6N,OAAwBA,OAAO,kBAAoB,qBAC1E5N,EAAmC,mBAAX4N,OAAwBA,OAAO,mBAAqB,sBAC5E3N,EAAiC,mBAAX2N,OAAwBA,OAAO,iBAAmB,oBACxE1N,EAAgB2N,IAChBA,IAAUA,EAAMC,IAClBD,EAAMC,EAAI,EACVD,EAAMzJ,SAAS2J,GAAQA,EAAGC,MAC1BH,EAAMzJ,SAAS2J,GAAQA,EAAGC,IAAMD,EAAGC,IAAMD,MAC1C,EAyBDT,EAAoBlC,EAAI,CAAC/K,EAAQwC,EAAMoL,KACtC,IAAIJ,EACJI,KAAcJ,EAAQ,IAAIC,EAAI,GAC9B,IAEII,EACAC,EACAC,EAJAC,EAAY,IAAIC,IAChBhO,EAAUD,EAAOC,QAIjBiO,EAAU,IAAI7E,SAAQ,CAAC8E,EAASC,KACnCL,EAASK,EACTN,EAAeK,CAAO,IAEvBD,EAAQvO,GAAkBM,EAC1BiO,EAAQxO,GAAkBgO,IAAQF,GAASE,EAAGF,GAAQQ,EAAUjK,QAAQ2J,GAAKQ,EAAe,OAAEtD,SAC9F5K,EAAOC,QAAUiO,EACjB1L,GAAM6L,IAEL,IAAIX,EADJG,EAvCa,CAACQ,GAAUA,EAAK9E,KAAK+E,IACnC,GAAW,OAARA,GAA+B,iBAARA,EAAkB,CAC3C,GAAGA,EAAI5O,GAAgB,OAAO4O,EAC9B,GAAGA,EAAIC,KAAM,CACZ,IAAIf,EAAQ,GACZA,EAAMC,EAAI,EACVa,EAAIC,MAAMZ,IACTa,EAAI7O,GAAkBgO,EACtB9N,EAAa2N,EAAM,IAChBlK,IACHkL,EAAI5O,GAAgB0D,EACpBzD,EAAa2N,EAAM,IAEpB,IAAIgB,EAAM,CAAC,EAEX,OADAA,EAAI9O,GAAkBgO,GAAQA,EAAGF,GAC1BgB,CACR,CACD,CACA,IAAIC,EAAM,CAAC,EAGX,OAFAA,EAAI/O,GAAiBkL,MACrB6D,EAAI9O,GAAkB2O,EACfG,CAAG,IAkBKC,CAASL,GAEvB,IAAIM,EAAY,IAAOd,EAAYtE,KAAKkE,IACvC,GAAGA,EAAE7N,GAAe,MAAM6N,EAAE7N,GAC5B,OAAO6N,EAAE9N,EAAe,IAErBuO,EAAU,IAAI7E,SAAS8E,KAC1BT,EAAK,IAAOS,EAAQQ,IACjBhB,EAAI,EACP,IAAIiB,EAAWC,GAAOA,IAAMrB,IAAUQ,EAAUc,IAAID,KAAOb,EAAUe,IAAIF,GAAIA,IAAMA,EAAEpB,IAAMC,EAAGC,IAAKkB,EAAEG,KAAKtB,KAC1GG,EAAYtE,KAAK+E,GAASA,EAAI5O,GAAekP,IAAU,IAExD,OAAOlB,EAAGC,EAAIO,EAAUS,GAAW,IAChCM,IAAUA,EAAMlB,EAAOG,EAAQtO,GAAgBqP,GAAOnB,EAAa7N,GAAWJ,EAAa2N,MAC/FA,IAAUA,EAAMC,EAAI,EAAE,Ee9DvBR,EAAoBiC,EAAKlP,IACxB,IAAImP,EAASnP,GAAUA,EAAOK,WAC7B,IAAOL,EAAiB,QACxB,IAAM,EAEP,OADAiN,EAAoBQ,EAAE0B,EAAQ,CAAEpE,EAAGoE,IAC5BA,CAAM,ECLdlC,EAAoBQ,EAAI,CAACxN,EAASmP,KACjC,IAAI,IAAIC,KAAOD,EACXnC,EAAoBqC,EAAEF,EAAYC,KAASpC,EAAoBqC,EAAErP,EAASoP,IAC5EpG,OAAOsG,eAAetP,EAASoP,EAAK,CAAEG,YAAY,EAAM7K,IAAKyK,EAAWC,IAE1E,ECNDpC,EAAoBwC,EAAI,WACvB,GAA0B,iBAAfC,WAAyB,OAAOA,WAC3C,IACC,OAAOtN,MAAQ,IAAIuN,SAAS,cAAb,EAGhB,CAFE,MAAOrM,GACR,GAAsB,iBAAXxB,OAAqB,OAAOA,MACxC,CACA,CAPuB,GCAxBmL,EAAoBqC,EAAI,CAACd,EAAKoB,IAAU3G,OAAO4G,UAAUC,eAAeC,KAAKvB,EAAKoB,G,MCAlF,IAAII,EACA/C,EAAoBwC,EAAEQ,gBAAeD,EAAY/C,EAAoBwC,EAAEzN,SAAW,IACtF,IAAIlB,EAAWmM,EAAoBwC,EAAE3O,SACrC,IAAKkP,GAAalP,IACbA,EAASoP,gBACZF,EAAYlP,EAASoP,cAAcC,MAC/BH,GAAW,CACf,IAAII,EAAUtP,EAASuP,qBAAqB,UACzCD,EAAQpE,SAAQgE,EAAYI,EAAQA,EAAQpE,OAAS,GAAGmE,IAC5D,CAID,IAAKH,EAAW,MAAM,IAAIM,MAAM,yDAChCN,EAAYA,EAAUnM,QAAQ,OAAQ,IAAIA,QAAQ,QAAS,IAAIA,QAAQ,YAAa,KACpFoJ,EAAoBsD,EAAIP,C,KCfxB/C,EAAoBjC,EAAIlK,SAAS0P,SAAWC,KAAKzO,SAASyD,KCGhCwH,EAAoB,I","sources":["webpack://my-webpack-project/webpack/runtime/async module","webpack://my-webpack-project/./src/pages/main/main.html","webpack://my-webpack-project/./node_modules/html-loader/dist/runtime/getUrl.js","webpack://my-webpack-project/./src/core/components/app/index.ts","webpack://my-webpack-project/./src/core/components/garage/index.ts","webpack://my-webpack-project/./src/core/templates/components.ts","webpack://my-webpack-project/./src/core/components/header/index.ts","webpack://my-webpack-project/./src/core/components/winners/index.ts","webpack://my-webpack-project/./src/core/templates/pages.ts","webpack://my-webpack-project/./src/pages/main/main.ts","webpack://my-webpack-project/./src/scripts/UI.ts","webpack://my-webpack-project/./src/scripts/api.ts","webpack://my-webpack-project/./src/scripts/store.ts","webpack://my-webpack-project/./src/scripts/utils.ts","webpack://my-webpack-project/webpack/bootstrap","webpack://my-webpack-project/webpack/runtime/compat get default export","webpack://my-webpack-project/webpack/runtime/define property getters","webpack://my-webpack-project/webpack/runtime/global","webpack://my-webpack-project/webpack/runtime/hasOwnProperty shorthand","webpack://my-webpack-project/webpack/runtime/publicPath","webpack://my-webpack-project/webpack/runtime/jsonp chunk loading","webpack://my-webpack-project/webpack/startup"],"sourcesContent":["var webpackQueues = typeof Symbol === \"function\" ? Symbol(\"webpack queues\") : \"__webpack_queues__\";\nvar webpackExports = typeof Symbol === \"function\" ? Symbol(\"webpack exports\") : \"__webpack_exports__\";\nvar webpackError = typeof Symbol === \"function\" ? Symbol(\"webpack error\") : \"__webpack_error__\";\nvar resolveQueue = (queue) => {\n\tif(queue && !queue.d) {\n\t\tqueue.d = 1;\n\t\tqueue.forEach((fn) => (fn.r--));\n\t\tqueue.forEach((fn) => (fn.r-- ? fn.r++ : fn()));\n\t}\n}\nvar wrapDeps = (deps) => (deps.map((dep) => {\n\tif(dep !== null && typeof dep === \"object\") {\n\t\tif(dep[webpackQueues]) return dep;\n\t\tif(dep.then) {\n\t\t\tvar queue = [];\n\t\t\tqueue.d = 0;\n\t\t\tdep.then((r) => {\n\t\t\t\tobj[webpackExports] = r;\n\t\t\t\tresolveQueue(queue);\n\t\t\t}, (e) => {\n\t\t\t\tobj[webpackError] = e;\n\t\t\t\tresolveQueue(queue);\n\t\t\t});\n\t\t\tvar obj = {};\n\t\t\tobj[webpackQueues] = (fn) => (fn(queue));\n\t\t\treturn obj;\n\t\t}\n\t}\n\tvar ret = {};\n\tret[webpackQueues] = x => {};\n\tret[webpackExports] = dep;\n\treturn ret;\n}));\n__webpack_require__.a = (module, body, hasAwait) => {\n\tvar queue;\n\thasAwait && ((queue = []).d = 1);\n\tvar depQueues = new Set();\n\tvar exports = module.exports;\n\tvar currentDeps;\n\tvar outerResolve;\n\tvar reject;\n\tvar promise = new Promise((resolve, rej) => {\n\t\treject = rej;\n\t\touterResolve = resolve;\n\t});\n\tpromise[webpackExports] = exports;\n\tpromise[webpackQueues] = (fn) => (queue && fn(queue), depQueues.forEach(fn), promise[\"catch\"](x => {}));\n\tmodule.exports = promise;\n\tbody((deps) => {\n\t\tcurrentDeps = wrapDeps(deps);\n\t\tvar fn;\n\t\tvar getResult = () => (currentDeps.map((d) => {\n\t\t\tif(d[webpackError]) throw d[webpackError];\n\t\t\treturn d[webpackExports];\n\t\t}))\n\t\tvar promise = new Promise((resolve) => {\n\t\t\tfn = () => (resolve(getResult));\n\t\t\tfn.r = 0;\n\t\t\tvar fnQueue = (q) => (q !== queue && !depQueues.has(q) && (depQueues.add(q), q && !q.d && (fn.r++, q.push(fn))));\n\t\t\tcurrentDeps.map((dep) => (dep[webpackQueues](fnQueue)));\n\t\t});\n\t\treturn fn.r ? promise : getResult();\n\t}, (err) => ((err ? reject(promise[webpackError] = err) : outerResolve(exports)), resolveQueue(queue)));\n\tqueue && (queue.d = 0);\n};","// Imports\nimport ___HTML_LOADER_GET_SOURCE_FROM_IMPORT___ from \"../../../node_modules/html-loader/dist/runtime/getUrl.js\";\nvar ___HTML_LOADER_IMPORT_0___ = new URL(\"../../favicon.ico\", import.meta.url);\n// Module\nvar ___HTML_LOADER_REPLACEMENT_0___ = ___HTML_LOADER_GET_SOURCE_FROM_IMPORT___(___HTML_LOADER_IMPORT_0___);\nvar code = \"<!DOCTYPE html> <link type=\\\"Image/x-icon\\\" href=\\\"\" + ___HTML_LOADER_REPLACEMENT_0___ + \"\\\" rel=\\\"icon\\\"> <html> <head> <meta charset=\\\"utf-8\\\"/> <title>Async Race</title> <\" + \"script src=\\\"https://kit.fontawesome.com/80436cc594.js\\\" crossorigin=\\\"anonymous\\\"><\" + \"/script> </head> <body> </body> </html> \";\n// Exports\nexport default code;","\"use strict\";\n\nmodule.exports = function (url, options) {\n  if (!options) {\n    // eslint-disable-next-line no-param-reassign\n    options = {};\n  }\n\n  if (!url) {\n    return url;\n  } // eslint-disable-next-line no-underscore-dangle, no-param-reassign\n\n\n  url = String(url.__esModule ? url.default : url);\n\n  if (options.hash) {\n    // eslint-disable-next-line no-param-reassign\n    url += options.hash;\n  }\n\n  if (options.maybeNeedQuotes && /[\\t\\n\\f\\r \"'=<>`]/.test(url)) {\n    return \"\\\"\".concat(url, \"\\\"\");\n  }\n\n  return url;\n};","import GaragePage from '../garage/index';\r\nimport WinnersPage from '../winners/index';\r\nimport Header from '../header/index';\r\nclass App {\r\n    static updateWinners() {\r\n        var _a;\r\n        ((_a = document.getElementById('winners')) === null || _a === void 0 ? void 0 : _a.remove());\r\n        const winnersPage = new WinnersPage();\r\n        const winnersHTML = winnersPage.render();\r\n        winnersHTML.id = 'winners';\r\n        winnersHTML.style.display = 'none';\r\n        winnersPage.listen(winnersHTML);\r\n        App.container.append(winnersHTML);\r\n    }\r\n    static renderPages(idPage) {\r\n        const garagePage = new GaragePage();\r\n        const garageHTML = garagePage.render();\r\n        garageHTML.id = 'garage';\r\n        garagePage.listen(garageHTML);\r\n        App.container.append(garageHTML);\r\n        const winnersPage = new WinnersPage();\r\n        const winnersHTML = winnersPage.render();\r\n        winnersHTML.id = 'winners';\r\n        winnersPage.listen(winnersHTML);\r\n        App.container.append(winnersHTML);\r\n        if (idPage) {\r\n            if (idPage === 'garage') {\r\n                document.getElementById(`winners`).style.display = 'none';\r\n            }\r\n            else {\r\n                document.getElementById(`garage`).style.display = 'none';\r\n            }\r\n        }\r\n        else {\r\n            winnersHTML.style.display = 'none';\r\n        }\r\n    }\r\n    static hiddenPage(idPage) {\r\n        if (idPage === 'garage') {\r\n            document.getElementById(`winners`).style.display = 'none';\r\n            document.getElementById(`garage`).style.display = 'block';\r\n        }\r\n        else {\r\n            document.getElementById(`winners`).style.display = 'block';\r\n            document.getElementById(`garage`).style.display = 'none';\r\n        }\r\n    }\r\n    enableRouteChange() {\r\n        window.addEventListener('hashchange', () => {\r\n            const hash = window.location.hash.slice(1);\r\n            App.hiddenPage(hash);\r\n        });\r\n    }\r\n    constructor() {\r\n        this.header = new Header('header', 'header');\r\n    }\r\n    run() {\r\n        const hash = window.location.hash.slice(1);\r\n        App.container.append(this.header.render());\r\n        App.renderPages(hash ? hash : 'garage');\r\n        this.enableRouteChange();\r\n    }\r\n}\r\nApp.container = document.body;\r\nexport default App;\r\n","import Page from '../../templates/pages';\r\nimport store from '../../../scripts/store';\r\nimport { generateRandomCars, race } from '../../../scripts/utils';\r\nimport UI, { updateStateGarage } from '../../../scripts/UI';\r\nimport { createCar, updateCar, deleteCar, saveWinner, deleteWinner } from '../../../scripts/api';\r\nimport App from '../app/index';\r\nlet formUpdateLock = true;\r\nlet nextPage = true;\r\nlet prevPage = true;\r\nconst maxPages = Math.ceil(Number(store.carsCount) / 7);\r\nif (store.carsPage < maxPages) {\r\n    nextPage = false;\r\n}\r\nclass GaragePage extends Page {\r\n    render() {\r\n        const title = GaragePage.TextObject.GarageTitle;\r\n        this.container.innerHTML =\r\n            `\n    <div class='message-block' id='message'></div>\n    <form class=\"create-block block\">\n      <input type='text' class='input create-text' name='form-text'>\n      <input type='color' class='input input-color create-color' name='form-color'>\n      <button class=\"button\" id='create-button'>create</button>\n    </form>\n    <form class=\"update-block block\" ${formUpdateLock ? 'disabled' : ''}>\n      <input type='text' class='input' name='form-text' ${formUpdateLock ? 'disabled' : ''}>\n      <input type='color' class='input input-color' name='form-color' ${formUpdateLock ? 'disabled' : ''}>\n      <button class=\"button update-button\" ${formUpdateLock ? 'disabled' : ''}>update</button>\n    </form>\n    <div class=\"race-block block\">\n      <button class=\"button race-button\" id=\"race\">race</button>\n      <button class=\"button reset-button\" id=\"reset\" disabled=true>reset</button>\n      <button class=\"button generate-button\">generate cars</button>\n    </div>\n    <h1>${title} (${store.carsCount})</h1>\n    <div class='pagination'>\n      <button class='page-prev button' ${prevPage ? 'disabled' : ''} id='prev-garage-page'><i class=\"fa-solid fa-chevron-left\"></i></button>\n      <div>Page: ${store.carsPage}</div>\n      <button class='page-next button' ${nextPage ? 'disabled' : ''} id='next-garage-page'><i class=\"fa-solid fa-chevron-right\"></i></button>\n    </div>\n    ${UI.renderGarage()}\n    `;\r\n        return this.container;\r\n    }\r\n    listen(container) {\r\n        let id;\r\n        container.addEventListener('click', async (e) => {\r\n            const parent = e.target.parentNode;\r\n            const element = e.target;\r\n            if (parent) {\r\n                if (parent.className.includes('remove-button')) {\r\n                    const id = Number(parent.id.replace('remove-car-', ''));\r\n                    await deleteCar(id);\r\n                    await deleteWinner(id);\r\n                    await updateStateGarage();\r\n                    await UI.updateStateWinners();\r\n                    App.updateWinners();\r\n                    this.render();\r\n                }\r\n                if (parent.className.includes('select-button')) {\r\n                    id = Number(parent.id.replace('select-car-', ''));\r\n                    formUpdateLock = false;\r\n                    this.render();\r\n                }\r\n                if (parent.className.includes('start-button')) {\r\n                    id = Number(parent.id.replace('start-engine-car-', ''));\r\n                    await UI.startDriving(id);\r\n                }\r\n                if (parent.className.includes('stop-button')) {\r\n                    id = Number(parent.id.replace('stop-engine-car-', ''));\r\n                    await UI.stopDriving(id);\r\n                }\r\n                if (parent.className.includes('page-next')) {\r\n                    const maxPages = Math.ceil(Number(store.carsCount) / 7);\r\n                    if (store.carsPage < maxPages) {\r\n                        prevPage = false;\r\n                        store.carsPage = store.carsPage + 1;\r\n                        if (store.carsPage === maxPages) {\r\n                            nextPage = true;\r\n                        }\r\n                        await updateStateGarage();\r\n                        this.render();\r\n                    }\r\n                }\r\n                if (parent.className.includes('page-prev')) {\r\n                    if (store.carsPage > 1) {\r\n                        nextPage = false;\r\n                        store.carsPage = store.carsPage - 1;\r\n                        if (store.carsPage === 1) {\r\n                            prevPage = true;\r\n                        }\r\n                        await updateStateGarage();\r\n                        this.render();\r\n                    }\r\n                }\r\n            }\r\n            if (element) {\r\n                if (element.className.includes('generate-button')) {\r\n                    const cars = generateRandomCars();\r\n                    nextPage = false;\r\n                    cars.forEach(async (e) => {\r\n                        await createCar(e);\r\n                        await updateStateGarage();\r\n                        this.render();\r\n                    });\r\n                }\r\n                if (element.className.includes('race-button')) {\r\n                    element.disabled = true;\r\n                    const winner = await race(UI.startDriving);\r\n                    await saveWinner(winner);\r\n                    await UI.updateStateWinners();\r\n                    App.updateWinners();\r\n                    const message = document.getElementById('message');\r\n                    if (message) {\r\n                        message.innerHTML = `${winner.name} went first ${winner.time}s!`;\r\n                        message.classList.toggle('visible', true);\r\n                    }\r\n                    document.getElementById('reset').disabled = false;\r\n                }\r\n                if (element.className.includes('reset-button')) {\r\n                    element.disabled = true;\r\n                    store.cars.map(({ id }) => UI.stopDriving(id));\r\n                    const message = document.getElementById('message');\r\n                    message === null || message === void 0 ? void 0 : message.classList.toggle('visible', false);\r\n                    document.getElementById('race').disabled = false;\r\n                }\r\n            }\r\n        });\r\n        container.addEventListener('submit', async (e) => {\r\n            e.preventDefault();\r\n            const form = e === null || e === void 0 ? void 0 : e.target;\r\n            const formData = new FormData(form);\r\n            let name = formData.get('form-text');\r\n            let color = formData.get('form-color');\r\n            if (!name) {\r\n                name = '';\r\n            }\r\n            if (!color) {\r\n                color = '#000000';\r\n            }\r\n            const car = { name: name, color: color };\r\n            if (e.target.className.includes('create-block')) {\r\n                await createCar(car);\r\n            }\r\n            if (e.target.className.includes('update-block')) {\r\n                await updateCar(id, car);\r\n                formUpdateLock = true;\r\n            }\r\n            await updateStateGarage();\r\n            this.render();\r\n        });\r\n    }\r\n}\r\nGaragePage.TextObject = {\r\n    GarageTitle: 'Garage',\r\n};\r\nexport default GaragePage;\r\n","export default class Components {\r\n    constructor(tagName, clasName) {\r\n        this.container = document.createElement(tagName);\r\n        this.container.className = clasName;\r\n    }\r\n    render() {\r\n        return this.container;\r\n    }\r\n}\r\n","import Components from '../../templates/components';\r\nconst Buttons = [\r\n    {\r\n        id: \"garage\" /* PageIds.GaragePage */,\r\n        text: 'Garage'\r\n    },\r\n    {\r\n        id: \"winners\" /* PageIds.WinnersPage */,\r\n        text: 'Winners'\r\n    }\r\n];\r\nclass Header extends Components {\r\n    constructor(tagName, clasName) {\r\n        super(tagName, clasName);\r\n    }\r\n    renderPageButtons() {\r\n        const pageButtons = document.createElement('div');\r\n        pageButtons.className = 'header-buttons';\r\n        Buttons.forEach((button) => {\r\n            const buttonHTML = document.createElement('a');\r\n            buttonHTML.href = `#${button.id}`;\r\n            buttonHTML.innerText = button.text;\r\n            buttonHTML.className = 'header-button button';\r\n            pageButtons.append(buttonHTML);\r\n        });\r\n        this.container.append(pageButtons);\r\n    }\r\n    render() {\r\n        this.renderPageButtons();\r\n        return this.container;\r\n    }\r\n}\r\nexport default Header;\r\n","import Page from '../../templates/pages';\r\nimport store from '../../../scripts/store';\r\nimport UI from '../../../scripts/UI';\r\nlet nextPage = false;\r\nlet prevPage = true;\r\nconst maxPages = Math.ceil(Number(store.winnersCount) / 10);\r\nif (store.winnersPage >= maxPages) {\r\n    nextPage = true;\r\n}\r\nclass WinnersPage extends Page {\r\n    render() {\r\n        const title = WinnersPage.TextObject.WinnersTitle;\r\n        this.container.innerHTML = `\n    <h1>${title} (${store.winnersCount})</h1>\n    <div class='pagination'>\n      <button class='page-prev button' ${prevPage ? 'disabled' : ''}><i class=\"fa-solid fa-chevron-left\"></i></button>\n      <div>Page: ${store.winnersPage}</div>\n      <button class='page-next button' ${nextPage ? 'disabled' : ''}><i class=\"fa-solid fa-chevron-right\"></i></button>\n    </div>\n    <table class='table'>\n      <tr class='table-row head-row'>\n        <th class='table-col-head' id='sort-by-id'>№</th>\n        <th class='table-col-head'>Car</th>\n        <th class='table-col-head'>Name</th>\n        <th class='table-col-head col-wins' id='sort-by-wins'>\n          Wins \n          ${store.sortBy === 'wins' ? store.sortOrder === 'DESC' ? '▼' : '▲' : ''}\n        </th>\n        <th class='table-col-head col-time' id='sort-by-time'>\n          Best time(s) \n          ${store.sortBy === 'time' ? store.sortOrder === 'DESC' ? '▼' : '▲' : ''}\n        </th>\n      </tr>\n      <tbody>\n      ${store.winners.map((winner, index) => `<tr class='table-row'>\n        <td class='table-col'>${index + 1 + ((store.winnersPage - 1) * 10)}</td>\n        <td class='table-col col-img'>${UI.renderCarImage(winner.car.color)}</td>\n        <td class='table-col'>${winner.car.name}</td>\n        <td class='table-col'>${winner.wins}</td>\n        <td class='table-col'>${winner.time}</td>\n      </tr>`).join('')}\n      </tbody>\n    </table>\n    `;\r\n        return this.container;\r\n    }\r\n    listen(container) {\r\n        container.addEventListener('click', async (e) => {\r\n            const parent = e.target.parentNode;\r\n            const element = e.target;\r\n            if (parent.className.includes('page-next')) {\r\n                if (store.winnersPage < maxPages) {\r\n                    prevPage = false;\r\n                    store.winnersPage = store.winnersPage + 1;\r\n                    if (store.winnersPage === maxPages) {\r\n                        nextPage = true;\r\n                    }\r\n                    await UI.updateStateWinners();\r\n                    this.render();\r\n                }\r\n            }\r\n            if (parent.className.includes('page-prev')) {\r\n                if (store.winnersPage > 1) {\r\n                    nextPage = false;\r\n                    store.winnersPage = store.winnersPage - 1;\r\n                    if (store.winnersPage === 1) {\r\n                        prevPage = true;\r\n                    }\r\n                    await UI.updateStateWinners();\r\n                    this.render();\r\n                }\r\n            }\r\n            if (element.id === 'sort-by-wins') {\r\n                store.sortBy = 'wins';\r\n                (store.sortOrder === 'DESC') ? store.sortOrder = \"ASC\" : store.sortOrder = \"DESC\";\r\n                await UI.updateStateWinners();\r\n                this.render();\r\n            }\r\n            if (element.id === 'sort-by-time') {\r\n                store.sortBy = 'time';\r\n                (store.sortOrder === 'DESC') ? store.sortOrder = \"ASC\" : store.sortOrder = \"DESC\";\r\n                await UI.updateStateWinners();\r\n                this.render();\r\n            }\r\n        });\r\n    }\r\n}\r\nWinnersPage.TextObject = {\r\n    WinnersTitle: 'Winners',\r\n};\r\nexport default WinnersPage;\r\n","class Page {\r\n    constructor() {\r\n        this.container = document.createElement('div');\r\n    }\r\n    render() {\r\n        return this.container;\r\n    }\r\n    listen(container) {\r\n        container;\r\n    }\r\n}\r\nPage.TextObject = {};\r\nexport default Page;\r\n","import './main.html';\r\nimport './main.scss';\r\nimport App from '../../core/components/app/index';\r\nconst app = new App();\r\napp.run();\r\n","import { getCars, startEngine, stopEngine, drive, getWinners } from \"./api\";\r\nimport store from './store';\r\nimport { getDistanceBetweenElements, animation } from './utils';\r\nconst renderCarImage = (color) => `\n<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 256 256\" width=\"70\"><path fill=\"${color}\" d=\"M107 74c-28 0-73 5-73 5s6 1 5 4-13 17-16 19c-2 2-5 2-8 2l-2 4c-5 8-4 17-4 16v1c-7 4-8 6-9 7l1 21c1 2 8 6 12 8a27 27 0 0 1 8-21 27 27 0 0 1 46 19l-1 7h121a27 27 0 1 1 52-1c5 0 14-2 15-4 1-3 3-17 1-25-2-7-13-21-52-29-44-25-63-31-89-33h-7zm2 4c6 0 31 1 56 14 9 5 33 17 30 19-13 11-22-3-86-5l-2-28h2zm-14 0h4l-1 28-55-3c-2-2 8-16 20-21 10-3 25-4 32-4zm126 37h3c2 1 11 4 17 8l9 9c-7 2-32-14-31-16l2-1zm-25 7h10l-3 2h-4l-3-2zm17 13a23 23 0 1 0 0 46 23 23 0 0 0 0-46zm-173 1a23 23 0 1 0 0 46 23 23 0 0 0 0-46zm173 9c3 0 7 2 9 4s4 6 4 9-2 7-4 9-6 4-9 4-7-2-9-4-4-6-4-9 2-7 4-9 6-4 9-4zm-173 1c3 0 6 2 9 4 2 2 3 6 3 9s-1 7-3 9c-3 2-6 4-9 4-4 0-7-2-9-4-3-2-4-6-4-9s1-7 4-9c2-2 5-4 9-4z\"/></svg>\n`;\r\nconst renderCar = ({ id, name, color, isEngineStarted }) => `\n<div class='car-block'>\n  <div class='car-settings'>\n    <button class=\"button select-button fa-solid fa-check\" id=\"select-car-${id}\"><i class=\"fa-solid fa-check\"></i></button>\n    <button class=\"button remove-button\" id=\"remove-car-${id}\"><i class=\"fa-solid fa-xmark\"></i></button>\n    <button class=\"button start-button\" id=\"start-engine-car-${id}\" ${isEngineStarted ? 'disabled' : ''}><i class=\"fa-solid fa-play\"></i></button>\n    <button class=\"button stop-button\" id=\"stop-engine-car-${id}\" ${!isEngineStarted ? 'disabled' : ''}><i class=\"fa-solid fa-arrow-rotate-left\"></i></button>\n    <span class='car-name'>${name}</span>\n  </div>\n  <div class='road'>\n    <div class='car' id='car-${id}'>\n      ${renderCarImage(color)}\n    </div>\n    <div class='flag' id='flag-${id}'>🏁</div>\n  </div> \n</div>\n`;\r\nconst renderGarage = () => {\r\n    return `\n  <ul class='garage-list'>\n    ${store.cars.map((car) => `\n    <li>${renderCar(car)}</li>\n    `).join('')}\n  </ul>\n`;\r\n};\r\nexport const updateStateGarage = async () => {\r\n    const { items, count } = await getCars(store.carsPage);\r\n    store.cars = items;\r\n    store.carsCount = count;\r\n};\r\nconst startDriving = async (id) => {\r\n    const startButton = document.getElementById(`start-engine-car-${id}`);\r\n    if (startButton instanceof HTMLButtonElement) {\r\n        startButton.disabled = true;\r\n    }\r\n    const { velocity, distance } = await startEngine(id);\r\n    const time = Math.round(distance / velocity);\r\n    if (startButton instanceof HTMLButtonElement) {\r\n        startButton.disabled = true;\r\n    }\r\n    document.getElementById(`stop-engine-car-${id}`).disabled = false;\r\n    const car = document.getElementById(`car-${id}`);\r\n    const flag = document.getElementById(`flag-${id}`);\r\n    const htmlDistance = Math.floor(getDistanceBetweenElements(car, flag)) + 70;\r\n    store.animation[id] = animation(car, htmlDistance, time);\r\n    const { success } = await drive(id);\r\n    if (!success) {\r\n        window.cancelAnimationFrame(store.animation[id].id);\r\n    }\r\n    return { success, id, time };\r\n};\r\nconst stopDriving = async (id) => {\r\n    const stopButton = document.getElementById(`stop-engine-car-${id}`);\r\n    if (stopButton instanceof HTMLButtonElement) {\r\n        stopButton.disabled = true;\r\n    }\r\n    await stopEngine(id);\r\n    document.getElementById(`start-engine-car-${id}`).disabled = false;\r\n    const car = document.getElementById(`car-${id}`);\r\n    if (car) {\r\n        car.style.transform = `translateX(0)`;\r\n    }\r\n    if (store.animation[id])\r\n        window.cancelAnimationFrame(store.animation[id].id);\r\n};\r\nconst updateStateWinners = async () => {\r\n    const { items, count } = await getWinners({ page: store.winnersPage, sort: store.sortBy, order: store.sortOrder });\r\n    store.winners = items;\r\n    store.winnersCount = count;\r\n};\r\nexport default {\r\n    renderGarage,\r\n    startDriving,\r\n    stopDriving,\r\n    renderCarImage,\r\n    updateStateWinners\r\n};\r\n","const base = 'http://localhost:3000';\r\nconst garage = `${base}/garage`;\r\nconst engine = `${base}/engine`;\r\nconst winners = `${base}/winners`;\r\nexport async function getCars(page, limit = 7) {\r\n    const response = await fetch(`${garage}?_page=${page}&_limit=${limit}`);\r\n    return {\r\n        items: await response.json(),\r\n        count: response.headers.get('X-Total-count'),\r\n    };\r\n}\r\nexport const getCar = async (id) => (await fetch(`${garage}/${id}`)).json();\r\nexport const createCar = async (body) => (await fetch(garage, {\r\n    method: 'POST',\r\n    body: JSON.stringify(body),\r\n    headers: {\r\n        'Content-Type': 'application/json'\r\n    },\r\n})).json();\r\nexport const deleteCar = async (id) => (await fetch(`${garage}/${id}`, { method: 'DELETE' })).json();\r\nexport const updateCar = async (id, body) => (await fetch(`${garage}/${id}`, {\r\n    method: 'PUT',\r\n    body: JSON.stringify(body),\r\n    headers: {\r\n        'Content-Type': 'application/json'\r\n    },\r\n})).json();\r\nexport const startEngine = async (id) => (await fetch(`${engine}?id=${id}&status=started`, { method: 'PATCH' })).json();\r\nexport const stopEngine = async (id) => (await fetch(`${engine}?id=${id}&status=stopped`, { method: 'PATCH' })).json();\r\nexport const drive = async (id) => {\r\n    const res = await fetch(`${engine}?id=${id}&status=drive`, { method: 'PATCH' }).catch();\r\n    return res.status !== 200 ? { success: false } : Object.assign({}, (await res.json()));\r\n};\r\nconst getSortOrder = (sort, order) => {\r\n    if (sort && order)\r\n        return `&_sort=${sort}&_order=${order}`;\r\n    return '';\r\n};\r\nexport const getWinners = async ({ page, limit = 10, sort, order }) => {\r\n    const response = await fetch(`${winners}?_page=${page}&_limit=${limit}${getSortOrder(sort, order)}`);\r\n    const items = await response.json();\r\n    return {\r\n        items: await Promise.all(items.map(async (winner) => (Object.assign(Object.assign({}, winner), { car: await getCar(winner.id) })))),\r\n        count: response.headers.get('X-Total-count')\r\n    };\r\n};\r\nexport const getWinner = async (id) => (await fetch(`${winners}/${id}`)).json();\r\nexport const getWinnerStatus = async (id) => (await fetch(`${winners}/${id}`)).status;\r\nexport const deleteWinner = async (id) => (await fetch(`${winners}/${id}`, { method: 'DELETE' })).json();\r\nexport const createWinner = async (body) => (await fetch(`${winners}`, {\r\n    method: 'POST',\r\n    body: JSON.stringify(body),\r\n    headers: {\r\n        'Content-Type': 'application/json'\r\n    }\r\n})).json();\r\nexport const updateWinner = async (id, body) => (await fetch(`${winners}/${id}`, {\r\n    method: 'PUT',\r\n    body: JSON.stringify(body),\r\n    headers: {\r\n        'Content-Type': 'application/json'\r\n    }\r\n})).json();\r\nexport const saveWinner = async ({ id, time }) => {\r\n    const winnerStatus = await getWinnerStatus(id);\r\n    if (winnerStatus === 404) {\r\n        await createWinner({\r\n            id,\r\n            wins: 1,\r\n            time,\r\n        });\r\n    }\r\n    else {\r\n        const winner = await getWinner(id);\r\n        await updateWinner(id, {\r\n            id,\r\n            wins: winner.wins + 1,\r\n            time: time < winner.time ? time : winner.time,\r\n        });\r\n    }\r\n};\r\n","import { getCars, getWinners } from './api';\r\nconst { items: cars, count: carsCount } = await getCars(1);\r\nconst { items: winners, count: winnersCount } = await getWinners({ page: 1, limit: 10, sort: null, order: null });\r\nexport default {\r\n    carsPage: 1,\r\n    cars,\r\n    carsCount,\r\n    animation: {},\r\n    winnersPage: 1,\r\n    winners,\r\n    winnersCount,\r\n    sortBy: 'id',\r\n    sortOrder: \"DESC\",\r\n    view: 'garage',\r\n};\r\n","import store from './store';\r\nfunction getPositionAtCenter(element) {\r\n    const { top, left, width, height } = element.getBoundingClientRect();\r\n    return {\r\n        x: left + width / 2,\r\n        y: top + height / 2\r\n    };\r\n}\r\nexport function getDistanceBetweenElements(a, b) {\r\n    const aPosition = getPositionAtCenter(a);\r\n    const bPosition = getPositionAtCenter(b);\r\n    return Math.hypot(aPosition.x - bPosition.x, aPosition.y - bPosition.y);\r\n}\r\nexport function animation(car, distance, animationTime) {\r\n    let start = 0;\r\n    const state = {};\r\n    function step(timestamp) {\r\n        if (!start) {\r\n            start = timestamp;\r\n        }\r\n        const time = timestamp - start;\r\n        const passed = Math.round(time * (distance / animationTime));\r\n        car.style.transform = `translateX(${Math.min(passed, distance)}px)`;\r\n        if (passed < distance) {\r\n            state.id = window.requestAnimationFrame(step);\r\n        }\r\n    }\r\n    state.id = window.requestAnimationFrame(step);\r\n    return state;\r\n}\r\nconst models = ['Audi', 'BMW', 'Ford', 'Honda', 'Hyundai', 'Kia', 'Lada', 'Mazda', 'Toyota', 'Subaru'];\r\nconst names = ['A6', 'Cabriolet', 'Sport', 'TT', 'Caprice', 'Daster', 'Matiz', 'Tornado', 'Volt', 'EV8'];\r\nconst getRandomName = () => {\r\n    const model = models[Math.floor(Math.random() * models.length)];\r\n    const name = names[Math.floor(Math.random() * models.length)];\r\n    return `${model} ${name}`;\r\n};\r\nconst getRandomColor = () => {\r\n    const letters = '0123456789ABCDEF';\r\n    let color = '#';\r\n    for (let i = 0; i < 6; i++) {\r\n        color += letters[Math.floor(Math.random() * 16)];\r\n    }\r\n    return color;\r\n};\r\nexport const generateRandomCars = (count = 100) => new Array(count).fill(1).map(() => ({ name: getRandomName(), color: getRandomColor() }));\r\nexport const raceAll = async (promises, ids) => {\r\n    const { success, id, time } = await Promise.race(promises);\r\n    if (!success) {\r\n        const failedIndex = ids.findIndex(i => i === id);\r\n        const restPromises = [...promises.slice(0, failedIndex), ...promises.slice(failedIndex + 1, promises.length)];\r\n        const restIds = [...ids.slice(0, failedIndex), ...ids.slice(failedIndex + 1, ids.length)];\r\n        return raceAll(restPromises, restIds);\r\n    }\r\n    return Object.assign(Object.assign({}, store.cars.find((car) => car.id === id)), { time: +(time / 1000).toFixed(2) });\r\n};\r\nexport const race = async (action) => {\r\n    const promises = store.cars.map(({ id }) => action(id));\r\n    const winner = await raceAll(promises, store.cars.map((car) => car.id));\r\n    return winner;\r\n};\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript)\n\t\tscriptUrl = document.currentScript.src\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) scriptUrl = scripts[scripts.length - 1].src\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","__webpack_require__.b = document.baseURI || self.location.href;\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t179: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n// no on chunks loaded\n\n// no jsonp function","// startup\n// Load entry module and return exports\n// This entry module used 'module' so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(253);\n"],"names":["webpackQueues","webpackExports","webpackError","resolveQueue","___HTML_LOADER_IMPORT_0___","URL","module","exports","url","options","String","__esModule","default","hash","maybeNeedQuotes","test","concat","App","static","_a","document","getElementById","remove","winnersPage","winnersHTML","render","id","style","display","listen","container","append","idPage","garagePage","garageHTML","enableRouteChange","window","addEventListener","location","slice","hiddenPage","constructor","this","header","run","renderPages","body","formUpdateLock","nextPage","prevPage","maxPages","Math","ceil","Number","GaragePage","title","TextObject","GarageTitle","innerHTML","async","e","parent","target","parentNode","element","className","includes","replace","cars","forEach","disabled","winner","message","name","time","classList","toggle","preventDefault","form","formData","FormData","get","color","car","Components","tagName","clasName","createElement","Buttons","text","super","renderPageButtons","pageButtons","button","buttonHTML","href","innerText","WinnersPage","WinnersTitle","index","wins","join","Page","renderCarImage","renderCar","isEngineStarted","updateStateGarage","items","count","renderGarage","startDriving","startButton","HTMLButtonElement","velocity","distance","round","flag","htmlDistance","floor","success","cancelAnimationFrame","stopDriving","stopButton","transform","updateStateWinners","page","sort","order","base","garage","engine","winners","getCars","limit","response","fetch","json","headers","getCar","createCar","method","JSON","stringify","deleteCar","updateCar","startEngine","stopEngine","drive","res","catch","status","Object","assign","getWinners","getSortOrder","Promise","all","map","deleteWinner","saveWinner","winnerStatus","getWinnerStatus","createWinner","getWinner","updateWinner","carsCount","winnersCount","carsPage","animation","sortBy","sortOrder","view","getPositionAtCenter","top","left","width","height","getBoundingClientRect","x","y","getDistanceBetweenElements","a","b","aPosition","bPosition","hypot","animationTime","start","state","requestAnimationFrame","step","timestamp","passed","min","models","names","getRandomName","random","length","getRandomColor","i","generateRandomCars","Array","fill","raceAll","promises","ids","race","failedIndex","findIndex","restPromises","restIds","toFixed","action","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","m","Symbol","queue","d","fn","r","hasAwait","currentDeps","outerResolve","reject","depQueues","Set","promise","resolve","rej","deps","dep","then","obj","ret","wrapDeps","getResult","fnQueue","q","has","add","push","err","n","getter","definition","key","o","defineProperty","enumerable","g","globalThis","Function","prop","prototype","hasOwnProperty","call","scriptUrl","importScripts","currentScript","src","scripts","getElementsByTagName","Error","p","baseURI","self"],"sourceRoot":""}