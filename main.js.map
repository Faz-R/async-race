{"version":3,"file":"main.js","mappings":"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","sources":["webpack://my-webpack-project/webpack/runtime/async module","webpack://my-webpack-project/./src/pages/main/main.html","webpack://my-webpack-project/./node_modules/html-loader/dist/runtime/getUrl.js","webpack://my-webpack-project/./src/core/components/app/index.ts","webpack://my-webpack-project/./src/core/components/garage/index.ts","webpack://my-webpack-project/./src/core/templates/components.ts","webpack://my-webpack-project/./src/core/interfaces/interfaces.ts","webpack://my-webpack-project/./src/core/components/header/index.ts","webpack://my-webpack-project/./src/core/components/winners/index.ts","webpack://my-webpack-project/./src/core/templates/pages.ts","webpack://my-webpack-project/./src/pages/main/main.ts","webpack://my-webpack-project/./src/scripts/UI.ts","webpack://my-webpack-project/./src/scripts/api.ts","webpack://my-webpack-project/./src/scripts/store.ts","webpack://my-webpack-project/./src/scripts/utils.ts","webpack://my-webpack-project/webpack/bootstrap","webpack://my-webpack-project/webpack/runtime/compat get default export","webpack://my-webpack-project/webpack/runtime/define property getters","webpack://my-webpack-project/webpack/runtime/global","webpack://my-webpack-project/webpack/runtime/hasOwnProperty shorthand","webpack://my-webpack-project/webpack/runtime/publicPath","webpack://my-webpack-project/webpack/runtime/jsonp chunk loading","webpack://my-webpack-project/webpack/startup"],"sourcesContent":["var webpackQueues = typeof Symbol === \"function\" ? Symbol(\"webpack queues\") : \"__webpack_queues__\";\nvar webpackExports = typeof Symbol === \"function\" ? Symbol(\"webpack exports\") : \"__webpack_exports__\";\nvar webpackError = typeof Symbol === \"function\" ? Symbol(\"webpack error\") : \"__webpack_error__\";\nvar resolveQueue = (queue) => {\n\tif(queue && !queue.d) {\n\t\tqueue.d = 1;\n\t\tqueue.forEach((fn) => (fn.r--));\n\t\tqueue.forEach((fn) => (fn.r-- ? fn.r++ : fn()));\n\t}\n}\nvar wrapDeps = (deps) => (deps.map((dep) => {\n\tif(dep !== null && typeof dep === \"object\") {\n\t\tif(dep[webpackQueues]) return dep;\n\t\tif(dep.then) {\n\t\t\tvar queue = [];\n\t\t\tqueue.d = 0;\n\t\t\tdep.then((r) => {\n\t\t\t\tobj[webpackExports] = r;\n\t\t\t\tresolveQueue(queue);\n\t\t\t}, (e) => {\n\t\t\t\tobj[webpackError] = e;\n\t\t\t\tresolveQueue(queue);\n\t\t\t});\n\t\t\tvar obj = {};\n\t\t\tobj[webpackQueues] = (fn) => (fn(queue));\n\t\t\treturn obj;\n\t\t}\n\t}\n\tvar ret = {};\n\tret[webpackQueues] = x => {};\n\tret[webpackExports] = dep;\n\treturn ret;\n}));\n__webpack_require__.a = (module, body, hasAwait) => {\n\tvar queue;\n\thasAwait && ((queue = []).d = 1);\n\tvar depQueues = new Set();\n\tvar exports = module.exports;\n\tvar currentDeps;\n\tvar outerResolve;\n\tvar reject;\n\tvar promise = new Promise((resolve, rej) => {\n\t\treject = rej;\n\t\touterResolve = resolve;\n\t});\n\tpromise[webpackExports] = exports;\n\tpromise[webpackQueues] = (fn) => (queue && fn(queue), depQueues.forEach(fn), promise[\"catch\"](x => {}));\n\tmodule.exports = promise;\n\tbody((deps) => {\n\t\tcurrentDeps = wrapDeps(deps);\n\t\tvar fn;\n\t\tvar getResult = () => (currentDeps.map((d) => {\n\t\t\tif(d[webpackError]) throw d[webpackError];\n\t\t\treturn d[webpackExports];\n\t\t}))\n\t\tvar promise = new Promise((resolve) => {\n\t\t\tfn = () => (resolve(getResult));\n\t\t\tfn.r = 0;\n\t\t\tvar fnQueue = (q) => (q !== queue && !depQueues.has(q) && (depQueues.add(q), q && !q.d && (fn.r++, q.push(fn))));\n\t\t\tcurrentDeps.map((dep) => (dep[webpackQueues](fnQueue)));\n\t\t});\n\t\treturn fn.r ? promise : getResult();\n\t}, (err) => ((err ? reject(promise[webpackError] = err) : outerResolve(exports)), resolveQueue(queue)));\n\tqueue && (queue.d = 0);\n};","// Imports\nimport ___HTML_LOADER_GET_SOURCE_FROM_IMPORT___ from \"../../../node_modules/html-loader/dist/runtime/getUrl.js\";\nvar ___HTML_LOADER_IMPORT_0___ = new URL(\"../../favicon.ico\", import.meta.url);\n// Module\nvar ___HTML_LOADER_REPLACEMENT_0___ = ___HTML_LOADER_GET_SOURCE_FROM_IMPORT___(___HTML_LOADER_IMPORT_0___);\nvar code = \"<!DOCTYPE html> <link type=\\\"Image/x-icon\\\" href=\\\"\" + ___HTML_LOADER_REPLACEMENT_0___ + \"\\\" rel=\\\"icon\\\"> <html> <head> <meta charset=\\\"utf-8\\\"/> <title>Async Race</title> <\" + \"script src=\\\"https://kit.fontawesome.com/80436cc594.js\\\" crossorigin=\\\"anonymous\\\"><\" + \"/script> </head> <body> </body> </html> \";\n// Exports\nexport default code;","\"use strict\";\n\nmodule.exports = function (url, options) {\n  if (!options) {\n    // eslint-disable-next-line no-param-reassign\n    options = {};\n  }\n\n  if (!url) {\n    return url;\n  } // eslint-disable-next-line no-underscore-dangle, no-param-reassign\n\n\n  url = String(url.__esModule ? url.default : url);\n\n  if (options.hash) {\n    // eslint-disable-next-line no-param-reassign\n    url += options.hash;\n  }\n\n  if (options.maybeNeedQuotes && /[\\t\\n\\f\\r \"'=<>`]/.test(url)) {\n    return \"\\\"\".concat(url, \"\\\"\");\n  }\n\n  return url;\n};","import GaragePage from '../garage/index';\r\nimport WinnersPage from '../winners/index';\r\nimport Header from '../header/index';\r\nimport UI from '../../../scripts/UI';\r\nclass App {\r\n    static updateWinners() {\r\n        var _a;\r\n        const hash = window.location.hash.slice(1);\r\n        ((_a = document.getElementById('winners')) === null || _a === void 0 ? void 0 : _a.remove());\r\n        const winnersPage = new WinnersPage();\r\n        const winnersHTML = winnersPage.render();\r\n        winnersHTML.id = 'winners';\r\n        if (hash === 'garage' || hash === '') {\r\n            winnersHTML.style.display = 'none';\r\n        }\r\n        winnersPage.listen(winnersHTML);\r\n        App.container.append(winnersHTML);\r\n    }\r\n    static renderPages(idPage) {\r\n        const garagePage = new GaragePage();\r\n        const garageHTML = garagePage.render();\r\n        garageHTML.id = 'garage';\r\n        garagePage.listen(garageHTML);\r\n        App.container.append(garageHTML);\r\n        const winnersPage = new WinnersPage();\r\n        const winnersHTML = winnersPage.render();\r\n        winnersHTML.id = 'winners';\r\n        winnersPage.listen(winnersHTML);\r\n        App.container.append(winnersHTML);\r\n        if (idPage) {\r\n            if (idPage === 'garage') {\r\n                document.getElementById('winners').style.display = 'none';\r\n            }\r\n            else {\r\n                document.getElementById('garage').style.display = 'none';\r\n            }\r\n        }\r\n        else {\r\n            winnersHTML.style.display = 'none';\r\n        }\r\n    }\r\n    static hiddenPage(idPage) {\r\n        if (idPage === 'garage') {\r\n            document.getElementById('winners').style.display = 'none';\r\n            document.getElementById('garage').style.display = 'block';\r\n        }\r\n        else {\r\n            document.getElementById('winners').style.display = 'block';\r\n            document.getElementById('garage').style.display = 'none';\r\n        }\r\n    }\r\n    constructor() {\r\n        this.header = new Header('header', 'header');\r\n    }\r\n    run() {\r\n        const hash = window.location.hash.slice(1);\r\n        App.container.append(this.header.render());\r\n        App.renderPages(hash || 'garage');\r\n        UI.enableRouteChange();\r\n    }\r\n}\r\nApp.container = document.body;\r\nexport default App;\r\n","import Page from '../../templates/pages';\r\nimport store from '../../../scripts/store';\r\nimport { generateRandomCars, race } from '../../../scripts/utils';\r\nimport UI, { updateStateGarage } from '../../../scripts/UI';\r\nimport { createCar, updateCar, deleteCar, saveWinner, deleteWinner, } from '../../../scripts/api';\r\nimport App from '../app/index';\r\nlet formUpdateLock = true;\r\nlet nextPage = true;\r\nlet prevPage = true;\r\nconst maxPages = Math.ceil(Number(store.carsCount) / 7);\r\nif (store.carsPage < maxPages) {\r\n    nextPage = false;\r\n}\r\nclass GaragePage extends Page {\r\n    render() {\r\n        const title = GaragePage.TextObject.GarageTitle;\r\n        this.container.innerHTML = `\n    <div class='message-block' id='message'></div>\n    <form class=\"create-block block\">\n      <input type='text' class='input create-text' name='form-text'>\n      <input type='color' class='input input-color create-color' name='form-color'>\n      <button class=\"button\" id='create-button'>create</button>\n    </form>\n    <form class=\"update-block block\" ${formUpdateLock ? 'disabled' : ''}>\n      <input type='text' class='input' name='form-text' ${formUpdateLock ? 'disabled' : ''}>\n      <input type='color' class='input input-color' name='form-color' ${formUpdateLock ? 'disabled' : ''}>\n      <button class=\"button update-button\" ${formUpdateLock ? 'disabled' : ''}>update</button>\n    </form>\n    <div class=\"race-block block\">\n      <button class=\"button race-button\" id=\"race\">race</button>\n      <button class=\"button reset-button\" id=\"reset\" disabled=true>reset</button>\n      <button class=\"button generate-button\">generate cars</button>\n    </div>\n    <h1>${title} (${store.carsCount})</h1>\n    <div class='pagination'>\n      <button class='page-prev button' ${prevPage ? 'disabled' : ''} id='prev-garage-page'><i class=\"fa-solid fa-chevron-left\"></i></button>\n      <div>Page: ${store.carsPage}</div>\n      <button class='page-next button' ${nextPage ? 'disabled' : ''} id='next-garage-page'><i class=\"fa-solid fa-chevron-right\"></i></button>\n    </div>\n    ${UI.renderGarage()}\n    `;\r\n        return this.container;\r\n    }\r\n    listen(container) {\r\n        let idCar;\r\n        container.addEventListener('click', async (e) => {\r\n            const element = e.target;\r\n            if (element) {\r\n                if ((element).className.includes('remove-button')) {\r\n                    const CarId = Number((element).id.replace('remove-car-', ''));\r\n                    await deleteCar(CarId);\r\n                    await deleteWinner(CarId);\r\n                    await updateStateGarage();\r\n                    await UI.updateStateWinners();\r\n                    App.updateWinners();\r\n                    this.render();\r\n                }\r\n                if ((element).className.includes('select-button')) {\r\n                    idCar = Number((element).id.replace('select-car-', ''));\r\n                    formUpdateLock = false;\r\n                    this.render();\r\n                }\r\n                if ((element).className.includes('start-button')) {\r\n                    idCar = Number((element).id.replace('start-engine-car-', ''));\r\n                    await UI.startDriving(idCar);\r\n                }\r\n                if ((element).className.includes('stop-button')) {\r\n                    idCar = Number((element).id.replace('stop-engine-car-', ''));\r\n                    await UI.stopDriving(idCar);\r\n                }\r\n                if ((element).className.includes('page-next')) {\r\n                    if (store.carsPage < maxPages) {\r\n                        prevPage = false;\r\n                        store.carsPage += 1;\r\n                        if (store.carsPage === maxPages) {\r\n                            nextPage = true;\r\n                        }\r\n                        await updateStateGarage();\r\n                        this.render();\r\n                    }\r\n                }\r\n                if ((element).className.includes('page-prev')) {\r\n                    if (store.carsPage > 1) {\r\n                        nextPage = false;\r\n                        store.carsPage -= 1;\r\n                        if (store.carsPage === 1) {\r\n                            prevPage = true;\r\n                        }\r\n                        await updateStateGarage();\r\n                        this.render();\r\n                    }\r\n                }\r\n            }\r\n            if (element) {\r\n                if (element.className.includes('generate-button')) {\r\n                    const cars = generateRandomCars();\r\n                    nextPage = false;\r\n                    cars.forEach(async (elems) => {\r\n                        await createCar(elems);\r\n                        await updateStateGarage();\r\n                        this.render();\r\n                    });\r\n                }\r\n                if (element.className.includes('race-button')) {\r\n                    element.disabled = true;\r\n                    const winner = await race(UI.startDriving);\r\n                    await saveWinner(winner);\r\n                    await UI.updateStateWinners();\r\n                    App.updateWinners();\r\n                    const message = document.getElementById('message');\r\n                    if (message) {\r\n                        message.innerHTML = `${winner.name} went first ${winner.time}s!`;\r\n                        message.classList.toggle('visible', true);\r\n                    }\r\n                    document.getElementById('reset').disabled = false;\r\n                }\r\n                if (element.className.includes('reset-button')) {\r\n                    element.disabled = true;\r\n                    store.cars.map(({ id }) => UI.stopDriving(id));\r\n                    const message = document.getElementById('message');\r\n                    message === null || message === void 0 ? void 0 : message.classList.toggle('visible', false);\r\n                    document.getElementById('race').disabled = false;\r\n                }\r\n            }\r\n        });\r\n        container.addEventListener('submit', async (e) => {\r\n            e.preventDefault();\r\n            const form = e === null || e === void 0 ? void 0 : e.target;\r\n            const formData = new FormData(form);\r\n            let name = formData.get('form-text');\r\n            let color = formData.get('form-color');\r\n            if (!name) {\r\n                name = '';\r\n            }\r\n            if (!color) {\r\n                color = '#000000';\r\n            }\r\n            const car = { name, color };\r\n            if (e.target.className.includes('create-block')) {\r\n                await createCar(car);\r\n            }\r\n            if (e.target.className.includes('update-block')) {\r\n                await updateCar(idCar, car);\r\n                formUpdateLock = true;\r\n            }\r\n            await updateStateGarage();\r\n            this.render();\r\n        });\r\n    }\r\n}\r\nGaragePage.TextObject = {\r\n    GarageTitle: 'Garage',\r\n};\r\nexport default GaragePage;\r\n","export default class Components {\r\n    constructor(tagName, clasName) {\r\n        this.container = document.createElement(tagName);\r\n        this.container.className = clasName;\r\n    }\r\n    render() {\r\n        return this.container;\r\n    }\r\n}\r\n","export var PageIds;\r\n(function (PageIds) {\r\n    // eslint-disable-next-line no-unused-vars\r\n    PageIds[\"GaragePage\"] = \"garage\";\r\n    // eslint-disable-next-line no-unused-vars\r\n    PageIds[\"WinnersPage\"] = \"winners\";\r\n})(PageIds || (PageIds = {}));\r\n","import Components from '../../templates/components';\r\nimport { PageIds } from '../../interfaces/interfaces';\r\nconst Buttons = [\r\n    {\r\n        id: PageIds.GaragePage,\r\n        text: 'Garage',\r\n    },\r\n    {\r\n        id: PageIds.WinnersPage,\r\n        text: 'Winners',\r\n    },\r\n];\r\nclass Header extends Components {\r\n    renderPageButtons() {\r\n        const pageButtons = document.createElement('div');\r\n        pageButtons.className = 'header-buttons';\r\n        Buttons.forEach((button) => {\r\n            const buttonHTML = document.createElement('a');\r\n            buttonHTML.href = `#${button.id}`;\r\n            buttonHTML.innerText = button.text;\r\n            buttonHTML.className = 'header-button button';\r\n            pageButtons.append(buttonHTML);\r\n        });\r\n        this.container.append(pageButtons);\r\n    }\r\n    render() {\r\n        this.renderPageButtons();\r\n        return this.container;\r\n    }\r\n}\r\nexport default Header;\r\n","import Page from '../../templates/pages';\r\nimport store from '../../../scripts/store';\r\nimport UI from '../../../scripts/UI';\r\nimport { getSort } from '../../../scripts/utils';\r\nclass WinnersPage extends Page {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.nextPage = false;\r\n        this.prevPage = true;\r\n        this.maxPages = Math.ceil(Number(store.winnersCount) / 10);\r\n    }\r\n    render() {\r\n        if (store.winnersPage >= this.maxPages) {\r\n            this.nextPage = true;\r\n        }\r\n        const title = WinnersPage.TextObject.WinnersTitle;\r\n        this.container.innerHTML = `\n    <h1>${title} (${store.winnersCount})</h1>\n    <div class='pagination'>\n      <button class='page-prev button' ${this.prevPage ? 'disabled' : ''}><i class=\"fa-solid fa-chevron-left\"></i></button>\n      <div>Page: ${store.winnersPage}</div>\n      <button class='page-next button' ${this.nextPage ? 'disabled' : ''}><i class=\"fa-solid fa-chevron-right\"></i></button>\n    </div>\n    <table class='table'>\n      <tr class='table-row head-row'>\n        <th class='table-col-head' id='sort-by-id'>‚Ññ</th>\n        <th class='table-col-head'>Car</th>\n        <th class='table-col-head'>Name</th>\n        <th class='table-col-head col-wins' id='sort-by-wins'>\n          Wins \n          ${getSort('wins')}\n        </th>\n        <th class='table-col-head col-time' id='sort-by-time'>\n          Best time(s) \n          ${getSort('time')}\n        </th>\n      </tr>\n      <tbody>\n      ${store.winners.map((winner, index) => `<tr class='table-row'>\n        <td class='table-col'>${index + 1 + ((store.winnersPage - 1) * 10)}</td>\n        <td class='table-col col-img'>${UI.renderCarImage(winner.car.color)}</td>\n        <td class='table-col'>${winner.car.name}</td>\n        <td class='table-col'>${winner.wins}</td>\n        <td class='table-col'>${winner.time}</td>\n      </tr>`).join('')}\n      </tbody>\n    </table>\n    `;\r\n        return this.container;\r\n    }\r\n    listen(container) {\r\n        var _a, _b;\r\n        (_a = container.querySelector('.page-prev')) === null || _a === void 0 ? void 0 : _a.addEventListener('click', async () => {\r\n            if (store.winnersPage > 1) {\r\n                this.nextPage = false;\r\n                store.winnersPage -= 1;\r\n                if (store.winnersPage === 1) {\r\n                    this.prevPage = true;\r\n                }\r\n                await UI.updateStateWinners();\r\n                this.render();\r\n            }\r\n        });\r\n        (_b = container.querySelector('.page-next')) === null || _b === void 0 ? void 0 : _b.addEventListener('click', async () => {\r\n            if (store.winnersPage < this.maxPages) {\r\n                this.prevPage = false;\r\n                store.winnersPage += 1;\r\n                if (store.winnersPage === this.maxPages) {\r\n                    this.nextPage = true;\r\n                }\r\n                await UI.updateStateWinners();\r\n                this.render();\r\n            }\r\n        });\r\n        container.addEventListener('click', async (e) => {\r\n            const element = e.target;\r\n            if (element.id === 'sort-by-wins') {\r\n                store.sortBy = 'wins';\r\n                store.sortOrder = (store.sortOrder === 'DESC') ? 'ASC' : 'DESC';\r\n                await UI.updateStateWinners();\r\n                this.render();\r\n            }\r\n            if (element.id === 'sort-by-time') {\r\n                store.sortBy = 'time';\r\n                store.sortOrder = (store.sortOrder === 'DESC') ? 'ASC' : 'DESC';\r\n                await UI.updateStateWinners();\r\n                this.render();\r\n            }\r\n        });\r\n    }\r\n}\r\nWinnersPage.TextObject = {\r\n    WinnersTitle: 'Winners',\r\n};\r\nexport default WinnersPage;\r\n","class Page {\r\n    constructor() {\r\n        this.container = document.createElement('div');\r\n    }\r\n    render() {\r\n        return this.container;\r\n    }\r\n}\r\nPage.TextObject = {};\r\nexport default Page;\r\n","import './main.html';\r\nimport './main.scss';\r\nimport App from '../../core/components/app/index';\r\nconst app = new App();\r\napp.run();\r\n","import App from '../core/components/app/index';\r\nimport { getCars, startEngine, stopEngine, drive, getWinners, } from './api';\r\nimport store from './store';\r\nimport { getDistanceBetweenElements, animation } from './utils';\r\nconst renderCarImage = (color) => `\n<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 256 256\" width=\"70\"><path fill=\"${color}\" d=\"M107 74c-28 0-73 5-73 5s6 1 5 4-13 17-16 19c-2 2-5 2-8 2l-2 4c-5 8-4 17-4 16v1c-7 4-8 6-9 7l1 21c1 2 8 6 12 8a27 27 0 0 1 8-21 27 27 0 0 1 46 19l-1 7h121a27 27 0 1 1 52-1c5 0 14-2 15-4 1-3 3-17 1-25-2-7-13-21-52-29-44-25-63-31-89-33h-7zm2 4c6 0 31 1 56 14 9 5 33 17 30 19-13 11-22-3-86-5l-2-28h2zm-14 0h4l-1 28-55-3c-2-2 8-16 20-21 10-3 25-4 32-4zm126 37h3c2 1 11 4 17 8l9 9c-7 2-32-14-31-16l2-1zm-25 7h10l-3 2h-4l-3-2zm17 13a23 23 0 1 0 0 46 23 23 0 0 0 0-46zm-173 1a23 23 0 1 0 0 46 23 23 0 0 0 0-46zm173 9c3 0 7 2 9 4s4 6 4 9-2 7-4 9-6 4-9 4-7-2-9-4-4-6-4-9 2-7 4-9 6-4 9-4zm-173 1c3 0 6 2 9 4 2 2 3 6 3 9s-1 7-3 9c-3 2-6 4-9 4-4 0-7-2-9-4-3-2-4-6-4-9s1-7 4-9c2-2 5-4 9-4z\"/></svg>\n`;\r\nconst renderCar = ({ id, name, color, isEngineStarted, }) => `\n<div class='car-block'>\n  <div class='car-settings'>\n    <button class=\"button select-button fa-solid fa-check\" id=\"select-car-${id}\">Select</button>\n    <button class=\"button remove-button\" id=\"remove-car-${id}\">Delete</button>\n    <button class=\"button start-button\" id=\"start-engine-car-${id}\" ${isEngineStarted ? 'disabled' : ''}>Start</button>\n    <button class=\"button stop-button\" id=\"stop-engine-car-${id}\" ${!isEngineStarted ? 'disabled' : ''}>Stop</button>\n    <span class='car-name'>${name}</span>\n  </div>\n  <div class='road'>\n    <div class='car' id='car-${id}'>\n      ${renderCarImage(color)}\n    </div>\n    <div class='flag' id='flag-${id}'>üèÅ</div>\n  </div> \n</div>\n`;\r\nconst renderGarage = () => `\n  <ul class='garage-list'>\n    ${store.cars.map((car) => `\n    <li>${renderCar(car)}</li>\n    `).join('')}\n  </ul>\n`;\r\nexport const updateStateGarage = async () => {\r\n    const { items, count } = await getCars(store.carsPage);\r\n    store.cars = items;\r\n    store.carsCount = count;\r\n};\r\nconst startDriving = async (id, isRace) => {\r\n    const startButton = document.getElementById(`start-engine-car-${id}`);\r\n    if (startButton instanceof HTMLButtonElement) {\r\n        startButton.disabled = true;\r\n    }\r\n    const { velocity, distance } = await startEngine(id);\r\n    const time = Math.round(distance / velocity);\r\n    if (startButton instanceof HTMLButtonElement) {\r\n        startButton.disabled = true;\r\n    }\r\n    if (!isRace) {\r\n        document.getElementById(`stop-engine-car-${id}`).disabled = false;\r\n    }\r\n    const car = document.getElementById(`car-${id}`);\r\n    const flag = document.getElementById(`flag-${id}`);\r\n    const htmlDistance = Math.floor(getDistanceBetweenElements(car, flag)) + 70;\r\n    store.animation[id] = animation(car, htmlDistance, time);\r\n    const { success } = await drive(id);\r\n    if (!success) {\r\n        window.cancelAnimationFrame(store.animation[id].id);\r\n    }\r\n    return { success, id, time };\r\n};\r\nconst stopDriving = async (id) => {\r\n    const stopButton = document.getElementById(`stop-engine-car-${id}`);\r\n    if (stopButton instanceof HTMLButtonElement) {\r\n        stopButton.disabled = true;\r\n    }\r\n    await stopEngine(id);\r\n    document.getElementById(`start-engine-car-${id}`).disabled = false;\r\n    const car = document.getElementById(`car-${id}`);\r\n    if (car) {\r\n        car.style.transform = 'translateX(0)';\r\n    }\r\n    if (store.animation[id])\r\n        window.cancelAnimationFrame(store.animation[id].id);\r\n};\r\nconst updateStateWinners = async () => {\r\n    const { items, count } = await getWinners({ page: store.winnersPage, sort: store.sortBy, order: store.sortOrder });\r\n    store.winners = items;\r\n    store.winnersCount = count;\r\n};\r\nfunction enableRouteChange() {\r\n    window.addEventListener('hashchange', () => {\r\n        const hash = window.location.hash.slice(1);\r\n        App.hiddenPage(hash);\r\n    });\r\n}\r\nexport default {\r\n    renderGarage,\r\n    startDriving,\r\n    stopDriving,\r\n    renderCarImage,\r\n    updateStateWinners,\r\n    enableRouteChange,\r\n};\r\n","const base = 'http://localhost:3000';\r\nconst garage = `${base}/garage`;\r\nconst engine = `${base}/engine`;\r\nconst winners = `${base}/winners`;\r\nexport async function getCars(page, limit = 7) {\r\n    const response = await fetch(`${garage}?_page=${page}&_limit=${limit}`);\r\n    return {\r\n        items: await response.json(),\r\n        count: response.headers.get('X-Total-count'),\r\n    };\r\n}\r\nexport const getCar = async (id) => (await fetch(`${garage}/${id}`)).json();\r\nexport const createCar = async (body) => (await fetch(garage, {\r\n    method: 'POST',\r\n    body: JSON.stringify(body),\r\n    headers: {\r\n        'Content-Type': 'application/json',\r\n    },\r\n})).json();\r\nexport const deleteCar = async (id) => (await fetch(`${garage}/${id}`, { method: 'DELETE' })).json();\r\nexport const updateCar = async (id, body) => (await fetch(`${garage}/${id}`, {\r\n    method: 'PUT',\r\n    body: JSON.stringify(body),\r\n    headers: {\r\n        'Content-Type': 'application/json',\r\n    },\r\n})).json();\r\nexport const startEngine = async (id) => (await fetch(`${engine}?id=${id}&status=started`, { method: 'PATCH' })).json();\r\nexport const stopEngine = async (id) => (await fetch(`${engine}?id=${id}&status=stopped`, { method: 'PATCH' })).json();\r\nexport const drive = async (id) => {\r\n    const res = await fetch(`${engine}?id=${id}&status=drive`, { method: 'PATCH' }).catch();\r\n    return res.status !== 200 ? { success: false } : Object.assign({}, (await res.json()));\r\n};\r\nconst getSortOrder = (sort, order) => {\r\n    if (sort && order)\r\n        return `&_sort=${sort}&_order=${order}`;\r\n    return '';\r\n};\r\nexport const getWinners = async ({ page, limit = 10, sort, order, }) => {\r\n    const response = await fetch(`${winners}?_page=${page}&_limit=${limit}${getSortOrder(sort, order)}`);\r\n    const items = await response.json();\r\n    return {\r\n        items: await Promise.all(items.map(async (winner) => (Object.assign(Object.assign({}, winner), { car: await getCar(winner.id) })))),\r\n        count: response.headers.get('X-Total-count'),\r\n    };\r\n};\r\nexport const getWinner = async (id) => (await fetch(`${winners}/${id}`)).json();\r\nexport const getWinnerStatus = async (id) => (await fetch(`${winners}/${id}`)).status;\r\nexport const deleteWinner = async (id) => (await fetch(`${winners}/${id}`, { method: 'DELETE' })).json();\r\nexport const createWinner = async (body) => (await fetch(`${winners}`, {\r\n    method: 'POST',\r\n    body: JSON.stringify(body),\r\n    headers: {\r\n        'Content-Type': 'application/json',\r\n    },\r\n})).json();\r\nexport const updateWinner = async (id, body) => (await fetch(`${winners}/${id}`, {\r\n    method: 'PUT',\r\n    body: JSON.stringify(body),\r\n    headers: {\r\n        'Content-Type': 'application/json',\r\n    },\r\n})).json();\r\nexport const saveWinner = async ({ id, time }) => {\r\n    const winnerStatus = await getWinnerStatus(id);\r\n    if (winnerStatus === 404) {\r\n        await createWinner({\r\n            id,\r\n            wins: 1,\r\n            time,\r\n        });\r\n    }\r\n    else {\r\n        const winner = await getWinner(id);\r\n        await updateWinner(id, {\r\n            id,\r\n            wins: winner.wins + 1,\r\n            time: time < winner.time ? time : winner.time,\r\n        });\r\n    }\r\n};\r\n","import { getCars, getWinners } from './api';\r\nconst { items: cars, count: carsCount } = await getCars(1);\r\nconst { items: winners, count: winnersCount } = await getWinners({\r\n    page: 1, limit: 10, sort: null, order: null,\r\n});\r\nexport default {\r\n    carsPage: 1,\r\n    cars,\r\n    carsCount,\r\n    animation: {},\r\n    winnersPage: 1,\r\n    winners,\r\n    winnersCount,\r\n    sortBy: 'id',\r\n    sortOrder: 'DESC',\r\n    view: 'garage',\r\n};\r\n","/* eslint-disable no-unused-vars */\r\nimport store from './store';\r\nfunction getPositionAtCenter(element) {\r\n    const { top, left, width, height, } = element.getBoundingClientRect();\r\n    return {\r\n        x: left + width / 2,\r\n        y: top + height / 2,\r\n    };\r\n}\r\nexport function getDistanceBetweenElements(a, b) {\r\n    const aPosition = getPositionAtCenter(a);\r\n    const bPosition = getPositionAtCenter(b);\r\n    return Math.hypot(aPosition.x - bPosition.x, aPosition.y - bPosition.y);\r\n}\r\nexport function animation(car, distance, animationTime) {\r\n    let start = 0;\r\n    const state = {};\r\n    function step(timestamp) {\r\n        if (!start) {\r\n            start = timestamp;\r\n        }\r\n        const time = timestamp - start;\r\n        const passed = Math.round(time * (distance / animationTime));\r\n        const catStyle = car;\r\n        catStyle.style.transform = `translateX(${Math.min(passed, distance)}px)`;\r\n        if (passed < distance) {\r\n            state.id = window.requestAnimationFrame(step);\r\n        }\r\n    }\r\n    state.id = window.requestAnimationFrame(step);\r\n    return state;\r\n}\r\nconst models = ['Audi', 'BMW', 'Ford', 'Honda', 'Hyundai', 'Kia', 'Lada', 'Mazda', 'Toyota', 'Subaru'];\r\nconst names = ['A6', 'Cabriolet', 'Sport', 'TT', 'Caprice', 'Daster', 'Matiz', 'Tornado', 'Volt', 'EV8'];\r\nconst getRandomName = () => {\r\n    const model = models[Math.floor(Math.random() * models.length)];\r\n    const name = names[Math.floor(Math.random() * models.length)];\r\n    return `${model} ${name}`;\r\n};\r\nconst getRandomColor = () => {\r\n    const letters = '0123456789ABCDEF';\r\n    let color = '#';\r\n    for (let i = 0; i < 6; i += 1) {\r\n        color += letters[Math.floor(Math.random() * 16)];\r\n    }\r\n    return color;\r\n};\r\nexport const generateRandomCars = (count = 100) => new Array(count).fill(1).map(() => ({ name: getRandomName(), color: getRandomColor() }));\r\nexport const raceAll = async (promises, ids) => {\r\n    const { success, id, time } = await Promise.race(promises);\r\n    if (!success) {\r\n        const failedIndex = ids.findIndex((i) => i === id);\r\n        const restPromises = [\r\n            ...promises.slice(0, failedIndex), ...promises.slice(failedIndex + 1, promises.length)\r\n        ];\r\n        const restIds = [...ids.slice(0, failedIndex), ...ids.slice(failedIndex + 1, ids.length)];\r\n        return raceAll(restPromises, restIds);\r\n    }\r\n    return Object.assign(Object.assign({}, store.cars.find((car) => car.id === id)), { time: +(time / 1000).toFixed(2) });\r\n};\r\nexport const race = async (action, isRace) => {\r\n    const promises = store.cars.map(({ id }) => action(id, isRace));\r\n    const winner = await raceAll(promises, store.cars.map((car) => car.id));\r\n    return winner;\r\n};\r\nexport function getSort(sort) {\r\n    if (store.sortBy === sort) {\r\n        if (store.sortOrder === 'DESC') {\r\n            return '‚ñº';\r\n        }\r\n        return '‚ñ≤';\r\n    }\r\n    return '';\r\n}\r\nexport function getDisabled(array) {\r\n    array.forEach((e) => {\r\n        const elem = e;\r\n        if (elem.disabled === true) {\r\n            elem.disabled = false;\r\n        }\r\n        else {\r\n            elem.disabled = true;\r\n        }\r\n        return elem;\r\n    });\r\n    return array;\r\n}\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript)\n\t\tscriptUrl = document.currentScript.src\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) scriptUrl = scripts[scripts.length - 1].src\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","__webpack_require__.b = document.baseURI || self.location.href;\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t179: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n// no on chunks loaded\n\n// no jsonp function","// startup\n// Load entry module and return exports\n// This entry module used 'module' so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(253);\n"],"names":["webpackQueues","webpackExports","webpackError","resolveQueue","___HTML_LOADER_IMPORT_0___","URL","module","exports","url","options","String","__esModule","default","hash","maybeNeedQuotes","test","concat","App","static","_a","window","location","slice","document","getElementById","remove","winnersPage","winnersHTML","render","id","style","display","listen","container","append","idPage","garagePage","garageHTML","constructor","this","header","run","renderPages","body","formUpdateLock","nextPage","prevPage","maxPages","Math","ceil","Number","GaragePage","title","TextObject","GarageTitle","innerHTML","idCar","addEventListener","async","e","element","target","className","includes","CarId","replace","cars","forEach","elems","disabled","winner","message","name","time","classList","toggle","preventDefault","form","formData","FormData","get","color","car","Components","tagName","clasName","createElement","PageIds","Buttons","text","WinnersPage","renderPageButtons","pageButtons","button","buttonHTML","href","innerText","super","arguments","WinnersTitle","index","wins","join","_b","querySelector","Page","renderCarImage","renderCar","isEngineStarted","updateStateGarage","items","count","enableRouteChange","renderGarage","startDriving","isRace","startButton","HTMLButtonElement","velocity","distance","round","flag","htmlDistance","floor","success","cancelAnimationFrame","stopDriving","stopButton","transform","updateStateWinners","page","sort","order","base","garage","engine","winners","getCars","limit","response","fetch","json","headers","getCar","createCar","method","JSON","stringify","deleteCar","updateCar","startEngine","stopEngine","drive","res","catch","status","Object","assign","getWinners","getSortOrder","Promise","all","map","deleteWinner","saveWinner","winnerStatus","getWinnerStatus","createWinner","getWinner","updateWinner","carsCount","winnersCount","carsPage","animation","sortBy","sortOrder","view","getPositionAtCenter","top","left","width","height","getBoundingClientRect","x","y","getDistanceBetweenElements","a","b","aPosition","bPosition","hypot","animationTime","start","state","requestAnimationFrame","step","timestamp","passed","min","models","names","getRandomName","random","length","getRandomColor","i","generateRandomCars","Array","fill","raceAll","promises","ids","race","failedIndex","findIndex","restPromises","restIds","toFixed","action","getSort","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","m","Symbol","queue","d","fn","r","hasAwait","currentDeps","outerResolve","reject","depQueues","Set","promise","resolve","rej","deps","dep","then","obj","ret","wrapDeps","getResult","fnQueue","q","has","add","push","err","n","getter","definition","key","o","defineProperty","enumerable","g","globalThis","Function","prop","prototype","hasOwnProperty","call","scriptUrl","importScripts","currentScript","src","scripts","getElementsByTagName","Error","p","baseURI","self"],"sourceRoot":""}